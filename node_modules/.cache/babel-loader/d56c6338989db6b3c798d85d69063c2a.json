{"ast":null,"code":"import _slicedToArray from\"C:/Users/user/Desktop/2\\uCC28\\uD504\\uB85C\\uC81D\\uD2B8/DrTart-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useState}from'react';import{useNavigate}from'react-router';import{API_ADDRESS}from'../../apiConfig';import InputInterface from'./InputInterface/InputInterface';import Button from'../../components/Button/Button';import'../Login/Login.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var idInputRef=useRef();var pwInputRef=useRef();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isAlertPopId=_useState2[0],setIsAlertPopId=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isAlertPopPw=_useState4[0],setIsAlertPopPw=_useState4[1];var validateId=function validateId(){var idValidRegex=/^([a-z0-9_.-]+)@([da-z.-]+).([a-z.]{2,6})$/g;var idValue=idInputRef.current.value;var isIdValid=!!idValue.match(idValidRegex);return isIdValid;};var validatePw=function validatePw(){var pwValidRegex=/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$ %^&*-]).{8,}$/g;var pwValue=pwInputRef.current.value;var isPwValid=!!pwValue.match(pwValidRegex);return isPwValid;};var alertEachValid=function alertEachValid(){setIsAlertPopId(!validateId());setIsAlertPopPw(!validatePw());};var navigate=useNavigate();var onValidation=function onValidation(){if(validateId()&&validatePw()){navigate('/');alert('로그인 되었습니다! 환영합니다 :)');}else{alertEachValid();}};var onSignIn=function onSignIn(){fetch(API_ADDRESS.sign_in,{method:'POST',body:JSON.stringify({email:idInputRef.current.value,password:pwInputRef.current.value})}).then(function(response){return response.json();}).then(function(res){if(res.message==='SUCCESS'){localStorage.setItem('TOKEN',res.access_token);onValidation();}else{alertEachValid();}});};var onSignUp=function onSignUp(){navigate('/signup');};return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"loginTitle\",children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"loginBox\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"loginForm\",children:[/*#__PURE__*/_jsx(InputInterface,{name:\"id\",inputRef:idInputRef,placeholder:\"\\uC544\\uC774\\uB514 \\uB610\\uB294 \\uC774\\uBA54\\uC77C\",type:\"email\",isAlertPop:isAlertPopId,alertWord:\"\\uC544\\uC774\\uB514\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\"}),/*#__PURE__*/_jsx(InputInterface,{name:\"pw\",inputRef:pwInputRef,placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",type:\"password\",isAlertPop:isAlertPopPw,alertWord:\"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"findBtn\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"findId\",children:\"\\uC544\\uC774\\uB514 \\uCC3E\\uAE30\"}),/*#__PURE__*/_jsx(\"span\",{className:\"findPw\",children:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uCC3E\\uAE30\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btnWrap\",children:[/*#__PURE__*/_jsx(Button,{btnOnClick:onSignIn,children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsx(Button,{btnOnClick:onSignUp,children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})]})]})]});}export default Login;","map":{"version":3,"names":["React","useRef","useState","useNavigate","API_ADDRESS","InputInterface","Button","jsx","_jsx","jsxs","_jsxs","Login","idInputRef","pwInputRef","_useState","_useState2","_slicedToArray","isAlertPopId","setIsAlertPopId","_useState3","_useState4","isAlertPopPw","setIsAlertPopPw","validateId","idValidRegex","idValue","current","value","isIdValid","match","validatePw","pwValidRegex","pwValue","isPwValid","alertEachValid","navigate","onValidation","alert","onSignIn","fetch","sign_in","method","body","JSON","stringify","email","password","then","response","json","res","message","localStorage","setItem","access_token","onSignUp","className","children","name","inputRef","placeholder","type","isAlertPop","alertWord","btnOnClick"],"sources":["C:/Users/user/Desktop/2차프로젝트/DrTart-frontend/src/pages/Login/Login.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\nimport { useNavigate } from 'react-router';\nimport { API_ADDRESS } from '../../apiConfig';\nimport InputInterface from './InputInterface/InputInterface';\nimport Button from '../../components/Button/Button';\nimport '../Login/Login.scss';\n\nfunction Login() {\n  const idInputRef = useRef();\n  const pwInputRef = useRef();\n  const [isAlertPopId, setIsAlertPopId] = useState(false);\n  const [isAlertPopPw, setIsAlertPopPw] = useState(false);\n\n  const validateId = () => {\n    const idValidRegex = /^([a-z0-9_.-]+)@([da-z.-]+).([a-z.]{2,6})$/g;\n    const idValue = idInputRef.current.value;\n    const isIdValid = !!idValue.match(idValidRegex);\n\n    return isIdValid;\n  };\n\n  const validatePw = () => {\n    const pwValidRegex =\n      /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$ %^&*-]).{8,}$/g;\n    const pwValue = pwInputRef.current.value;\n    const isPwValid = !!pwValue.match(pwValidRegex);\n\n    return isPwValid;\n  };\n\n  const alertEachValid = () => {\n    setIsAlertPopId(!validateId());\n    setIsAlertPopPw(!validatePw());\n  };\n\n  const navigate = useNavigate();\n\n  const onValidation = () => {\n    if (validateId() && validatePw()) {\n      navigate('/');\n      alert('로그인 되었습니다! 환영합니다 :)');\n    } else {\n      alertEachValid();\n    }\n  };\n\n  const onSignIn = () => {\n    fetch(API_ADDRESS.sign_in, {\n      method: 'POST',\n      body: JSON.stringify({\n        email: idInputRef.current.value,\n        password: pwInputRef.current.value,\n      }),\n    })\n      .then(response => response.json())\n      .then(res => {\n        if (res.message === 'SUCCESS') {\n          localStorage.setItem('TOKEN', res.access_token);\n          onValidation();\n        } else {\n          alertEachValid();\n        }\n      });\n  };\n\n  const onSignUp = () => {\n    navigate('/signup');\n  };\n\n  return (\n    <div className=\"login\">\n      <h1 className=\"loginTitle\">로그인</h1>\n      <div className=\"loginBox\">\n        <form className=\"loginForm\">\n          <InputInterface\n            name=\"id\"\n            inputRef={idInputRef}\n            placeholder=\"아이디 또는 이메일\"\n            type=\"email\"\n            isAlertPop={isAlertPopId}\n            alertWord=\"아이디를 입력하세요.\"\n          />\n          <InputInterface\n            name=\"pw\"\n            inputRef={pwInputRef}\n            placeholder=\"비밀번호\"\n            type=\"password\"\n            isAlertPop={isAlertPopPw}\n            alertWord=\"비밀번호를 입력하세요.\"\n          />\n        </form>\n        <div className=\"findBtn\">\n          <span className=\"findId\">아이디 찾기</span>\n          <span className=\"findPw\">비밀번호 찾기</span>\n        </div>\n        <div className=\"btnWrap\">\n          <Button btnOnClick={onSignIn}>로그인</Button>\n          <Button btnOnClick={onSignUp}>회원가입</Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}