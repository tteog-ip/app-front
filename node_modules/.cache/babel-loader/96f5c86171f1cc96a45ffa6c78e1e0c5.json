{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\\\uC8FC\\uD0DD\\uCCAD\\uC57D\\\\App-frontend\\\\src\\\\pages\\\\ProductList\\\\ProductsMain\\\\ProductsMain.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Product from '../Product/Product';\nimport ImageSlide from './ImageSlide/ImageSlide';\nimport ModalBuyNow from '../ModalBuyNow/ModalBuyNow';\nimport { API_ADDRESS } from '../../../apiConfig';\nimport './ProductsMain.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ProductsMain() {\n  _s();\n  const [isProductMainLoading, setIsProductMainLoading] = useState(false);\n  const [productsList, setProductsList] = useState([]);\n  const [isPopModal, setIsPopModal] = useState(false);\n  const [selectedProduct, setSelectedProduct] = useState({});\n  const PopUpModalBuyNow = product => {\n    setIsPopModal(true);\n    setSelectedProduct(product);\n  };\n  const updateLike = id => {\n    const updatedList = productsList.map(product => {\n      if (id === product.id) {\n        return product.is_like_True ? {\n          ...product,\n          is_like_True: !product.is_like_True,\n          like_num: product.like_num - 1\n        } : {\n          ...product,\n          is_like_True: !product.is_like_True,\n          like_num: product.like_num + 1\n        };\n      } else {\n        return {\n          ...product\n        };\n      }\n    });\n    setProductsList(updatedList);\n  };\n  const fetchData = async () => {\n    const data = await fetch(API_ADDRESS.product_main);\n    const res = await data.json();\n    setProductsList(res.apt_list);\n  };\n  useEffect(() => {\n    (async () => {\n      setIsProductMainLoading(true);\n      await fetchData();\n      setIsProductMainLoading(false);\n    })();\n  }, []);\n  return !isProductMainLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"productsMain\",\n    children: [isPopModal && /*#__PURE__*/_jsxDEV(ModalBuyNow, {\n      setIsPopModal: setIsPopModal,\n      infoTag: productsList.description,\n      product: selectedProduct\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: isPopModal ? 'mask' : 'maskOff'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ImageSlide, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 7\n  }, this);\n}\n_s(ProductsMain, \"W3fc1+R6bBr4quLK3fVv/2fJGWM=\");\n_c = ProductsMain;\nexport default ProductsMain;\n\n/*\n<div className=\"productListHead\">베스트셀러 TOP 5</div>\n        <div className=\"productListContainer\">\n          {productsList.map(el => (\n            <Product\n              el={el}\n              key={el.id}\n              id={el.id}\n              btnOnClick={PopUpModalBuyNow}\n              updateLike={updateLike}\n            />\n          ))}\n        </div>\n*/\nvar _c;\n$RefreshReg$(_c, \"ProductsMain\");","map":{"version":3,"names":["React","useEffect","useState","Product","ImageSlide","ModalBuyNow","API_ADDRESS","jsxDEV","_jsxDEV","ProductsMain","_s","isProductMainLoading","setIsProductMainLoading","productsList","setProductsList","isPopModal","setIsPopModal","selectedProduct","setSelectedProduct","PopUpModalBuyNow","product","updateLike","id","updatedList","map","is_like_True","like_num","fetchData","data","fetch","product_main","res","json","apt_list","className","children","infoTag","description","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/주택청약/App-frontend/src/pages/ProductList/ProductsMain/ProductsMain.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Product from '../Product/Product';\nimport ImageSlide from './ImageSlide/ImageSlide';\nimport ModalBuyNow from '../ModalBuyNow/ModalBuyNow';\nimport { API_ADDRESS } from '../../../apiConfig';\nimport './ProductsMain.scss';\n\nfunction ProductsMain() {\n  const [isProductMainLoading, setIsProductMainLoading] = useState(false);\n  const [productsList, setProductsList] = useState([]);\n  const [isPopModal, setIsPopModal] = useState(false);\n  const [selectedProduct, setSelectedProduct] = useState({});\n\n  const PopUpModalBuyNow = product => {\n    setIsPopModal(true);\n    setSelectedProduct(product);\n  };\n\n  const updateLike = id => {\n    const updatedList = productsList.map(product => {\n      if (id === product.id) {\n        return product.is_like_True\n          ? {\n              ...product,\n              is_like_True: !product.is_like_True,\n              like_num: product.like_num - 1,\n            }\n          : {\n              ...product,\n              is_like_True: !product.is_like_True,\n              like_num: product.like_num + 1,\n            };\n      } else {\n        return { ...product };\n      }\n    });\n\n    setProductsList(updatedList);\n  };\n\n  const fetchData = async () => {\n    const data = await fetch(API_ADDRESS.product_main);\n    const res = await data.json();\n    setProductsList(res.apt_list);\n  };\n\n  useEffect(() => {\n    (async () => {\n      setIsProductMainLoading(true);\n      await fetchData();\n      setIsProductMainLoading(false);\n    })();\n  }, []);\n\n  return (\n    !isProductMainLoading && (\n      <div className=\"productsMain\">\n        {isPopModal && (\n          <ModalBuyNow\n            setIsPopModal={setIsPopModal}\n            infoTag={productsList.description}\n            product={selectedProduct}\n          />\n        )}\n        <div className={isPopModal ? 'mask' : 'maskOff'} />\n        <ImageSlide />\n      </div>\n    )\n  );\n}\n\nexport default ProductsMain;\n\n/*\n<div className=\"productListHead\">베스트셀러 TOP 5</div>\n        <div className=\"productListContainer\">\n          {productsList.map(el => (\n            <Product\n              el={el}\n              key={el.id}\n              id={el.id}\n              btnOnClick={PopUpModalBuyNow}\n              updateLike={updateLike}\n            />\n          ))}\n        </div>\n*/\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}