{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\2\\uCC28\\uD504\\uB85C\\uC81D\\uD2B8\\\\DrTart-frontend\\\\src\\\\pages\\\\ProductList\\\\ProductsMain\\\\ProductsMain.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Product from '../Product/Product';\nimport ImageSlide from './ImageSlide/ImageSlide';\nimport ModalBuyNow from '../ModalBuyNow/ModalBuyNow';\nimport { API_ADDRESS } from '../../../apiConfig';\nimport './ProductsMain.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ProductsMain() {\n  _s();\n\n  const [isProductMainLoading, setIsProductMainLoading] = useState(false);\n  const [productsList, setProductsList] = useState([]);\n  const [isPopModal, setIsPopModal] = useState(false);\n  const [selectedProduct, setSelectedProduct] = useState({});\n\n  const PopUpModalBuyNow = product => {\n    setIsPopModal(true);\n    setSelectedProduct(product);\n  };\n\n  const updateLike = id => {\n    const updatedList = productsList.map(product => {\n      if (id === product.id) {\n        return product.is_like_True ? { ...product,\n          is_like_True: !product.is_like_True,\n          like_num: product.like_num - 1\n        } : { ...product,\n          is_like_True: !product.is_like_True,\n          like_num: product.like_num + 1\n        };\n      } else {\n        return { ...product\n        };\n      }\n    });\n    setProductsList(updatedList);\n  };\n\n  const fetchData = async () => {\n    const data = await fetch(API_ADDRESS.product_main);\n    const res = await data.json();\n    setProductsList(res.product_list);\n  };\n\n  useEffect(() => {\n    (async () => {\n      setIsProductMainLoading(true);\n      await fetchData();\n      setIsProductMainLoading(false);\n    })();\n  }, []);\n  return !isProductMainLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"productsMain\",\n    children: [isPopModal && /*#__PURE__*/_jsxDEV(ModalBuyNow, {\n      setIsPopModal: setIsPopModal,\n      infoTag: productsList.description,\n      product: selectedProduct\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: isPopModal ? 'mask' : 'maskOff'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ImageSlide, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"productListHead\",\n      children: \"\\uBCA0\\uC2A4\\uD2B8\\uC140\\uB7EC TOP 5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"productListContainer\",\n      children: productsList.map(el => /*#__PURE__*/_jsxDEV(Product, {\n        el: el,\n        id: el.id,\n        btnOnClick: PopUpModalBuyNow,\n        updateLike: updateLike\n      }, el.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 7\n  }, this);\n}\n\n_s(ProductsMain, \"W3fc1+R6bBr4quLK3fVv/2fJGWM=\");\n\n_c = ProductsMain;\nexport default ProductsMain;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductsMain\");","map":{"version":3,"sources":["C:/Users/user/Desktop/2차프로젝트/DrTart-frontend/src/pages/ProductList/ProductsMain/ProductsMain.js"],"names":["React","useEffect","useState","Product","ImageSlide","ModalBuyNow","API_ADDRESS","ProductsMain","isProductMainLoading","setIsProductMainLoading","productsList","setProductsList","isPopModal","setIsPopModal","selectedProduct","setSelectedProduct","PopUpModalBuyNow","product","updateLike","id","updatedList","map","is_like_True","like_num","fetchData","data","fetch","product_main","res","json","product_list","description","el"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Product from '../Product/Product';\nimport ImageSlide from './ImageSlide/ImageSlide';\nimport ModalBuyNow from '../ModalBuyNow/ModalBuyNow';\nimport { API_ADDRESS } from '../../../apiConfig';\nimport './ProductsMain.scss';\n\nfunction ProductsMain() {\n  const [isProductMainLoading, setIsProductMainLoading] = useState(false);\n  const [productsList, setProductsList] = useState([]);\n  const [isPopModal, setIsPopModal] = useState(false);\n  const [selectedProduct, setSelectedProduct] = useState({});\n\n  const PopUpModalBuyNow = product => {\n    setIsPopModal(true);\n    setSelectedProduct(product);\n  };\n\n  const updateLike = id => {\n    const updatedList = productsList.map(product => {\n      if (id === product.id) {\n        return product.is_like_True\n          ? {\n              ...product,\n              is_like_True: !product.is_like_True,\n              like_num: product.like_num - 1,\n            }\n          : {\n              ...product,\n              is_like_True: !product.is_like_True,\n              like_num: product.like_num + 1,\n            };\n      } else {\n        return { ...product };\n      }\n    });\n\n    setProductsList(updatedList);\n  };\n\n  const fetchData = async () => {\n    const data = await fetch(API_ADDRESS.product_main);\n    const res = await data.json();\n    setProductsList(res.product_list);\n  };\n\n  useEffect(() => {\n    (async () => {\n      setIsProductMainLoading(true);\n      await fetchData();\n      setIsProductMainLoading(false);\n    })();\n  }, []);\n\n  return (\n    !isProductMainLoading && (\n      <div className=\"productsMain\">\n        {isPopModal && (\n          <ModalBuyNow\n            setIsPopModal={setIsPopModal}\n            infoTag={productsList.description}\n            product={selectedProduct}\n          />\n        )}\n        <div className={isPopModal ? 'mask' : 'maskOff'} />\n        <ImageSlide />\n        <div className=\"productListHead\">베스트셀러 TOP 5</div>\n        <div className=\"productListContainer\">\n          {productsList.map(el => (\n            <Product\n              el={el}\n              key={el.id}\n              id={el.id}\n              btnOnClick={PopUpModalBuyNow}\n              updateLike={updateLike}\n            />\n          ))}\n        </div>\n      </div>\n    )\n  );\n}\n\nexport default ProductsMain;\n"]},"metadata":{},"sourceType":"module"}