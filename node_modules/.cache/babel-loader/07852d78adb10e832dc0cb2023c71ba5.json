{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\\\uC8FC\\uD0DD\\uCCAD\\uC57D\\\\App-frontend\\\\src\\\\pages\\\\ProductDetail\\\\ProductDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router';\nimport SlickThumbnail from './SlickThumbnail';\nimport ProductListNav from '../ProductList/ProductListNav/ProductListNav';\nimport ProductReview from './ProductReview/ProductReview';\nimport ProductInfoBox from '../../components/ProductInfoBox/ProductInfoBox';\nimport { API_ADDRESS } from '../../apiConfig';\nimport './ProductDetail.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ProductDetail() {\n  _s();\n  const params = useParams();\n  const [data, setData] = useState({});\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const updateProductLiked = () => {\n    const updatedProduct = {\n      ...data,\n      is_like_True: !data.is_like_True\n    };\n    setData(updatedProduct);\n  };\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n  useEffect(() => {\n    fetch(API_ADDRESS.products + params.id).then(res => res.json()).then(res => {\n      setData(res.apt_list);\n    });\n  }, [params.id]);\n  useEffect(() => {\n    const slideInterval = setInterval(() => {\n      var _data$image_list;\n      currentIndex >= ((_data$image_list = data.image_list) === null || _data$image_list === void 0 ? void 0 : _data$image_list.length) - 1 || 0 ? setCurrentIndex(0) : setCurrentIndex(prev => prev + 1);\n    }, 4000);\n    return () => {\n      clearInterval(slideInterval);\n    };\n  }, [currentIndex, data]);\n  const changeSlide = index => {\n    setCurrentIndex(index);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ProductListNav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"slideAndInfoWrap\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"slide\",\n        children: [data.image_list && data.image_list.filter((el, index) => index === currentIndex).map(el => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"imgSlide\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: el.url,\n            alt: el.id,\n            className: \"img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 19\n          }, this)\n        }, el.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this)), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"thumbnailWrap\",\n          children: data.image_list && data.image_list.map((el, index) => /*#__PURE__*/_jsxDEV(SlickThumbnail, {\n            currentSlideId: currentIndex,\n            slideId: index,\n            imgUrl: el.url,\n            changeSlide: () => changeSlide(index)\n          }, el.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"productInfo\",\n        children: /*#__PURE__*/_jsxDEV(ProductInfoBox, {\n          productId: params.id,\n          koreanName: data.korean_name,\n          sugarLevel: data.sugar_level,\n          price: data.price,\n          infoTag: data.description,\n          isVegan: data.vegan_or_not,\n          thumbnailImg: data.thumbnail_image_url,\n          cartAndLikeBtn: true,\n          is_like_True: data.is_like_True,\n          updateProductLiked: updateProductLiked\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(ProductDetail, \"mKtMFjsXS/Zs4TtwwBPMvIFcibk=\", false, function () {\n  return [useParams];\n});\n_c = ProductDetail;\nvar _c;\n$RefreshReg$(_c, \"ProductDetail\");","map":{"version":3,"names":["React","useState","useEffect","useParams","SlickThumbnail","ProductListNav","ProductReview","ProductInfoBox","API_ADDRESS","jsxDEV","_jsxDEV","Fragment","_Fragment","ProductDetail","_s","params","data","setData","currentIndex","setCurrentIndex","updateProductLiked","updatedProduct","is_like_True","window","scrollTo","fetch","products","id","then","res","json","apt_list","slideInterval","setInterval","_data$image_list","image_list","length","prev","clearInterval","changeSlide","index","children","fileName","_jsxFileName","lineNumber","columnNumber","className","filter","el","map","src","url","alt","currentSlideId","slideId","imgUrl","productId","koreanName","korean_name","sugarLevel","sugar_level","price","infoTag","description","isVegan","vegan_or_not","thumbnailImg","thumbnail_image_url","cartAndLikeBtn","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/주택청약/App-frontend/src/pages/ProductDetail/ProductDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router';\nimport SlickThumbnail from './SlickThumbnail';\nimport ProductListNav from '../ProductList/ProductListNav/ProductListNav';\nimport ProductReview from './ProductReview/ProductReview';\nimport ProductInfoBox from '../../components/ProductInfoBox/ProductInfoBox';\nimport { API_ADDRESS } from '../../apiConfig';\nimport './ProductDetail.scss';\n\nexport default function ProductDetail() {\n  const params = useParams();\n  const [data, setData] = useState({});\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  const updateProductLiked = () => {\n    const updatedProduct = { ...data, is_like_True: !data.is_like_True };\n\n    setData(updatedProduct);\n  };\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  useEffect(() => {\n    fetch(API_ADDRESS.products + params.id)\n      .then(res => res.json())\n      .then(res => {\n        setData(res.apt_list);\n      });\n  }, [params.id]);\n\n  useEffect(() => {\n    const slideInterval = setInterval(() => {\n      currentIndex >= data.image_list?.length - 1 || 0\n        ? setCurrentIndex(0)\n        : setCurrentIndex(prev => prev + 1);\n    }, 4000);\n\n    return () => {\n      clearInterval(slideInterval);\n    };\n  }, [currentIndex, data]);\n\n  const changeSlide = index => {\n    setCurrentIndex(index);\n  };\n\n  return (\n    <>\n      <ProductListNav />\n      <div className=\"slideAndInfoWrap\">\n        <div className=\"slide\">\n          {data.image_list &&\n            data.image_list\n              .filter((el, index) => index === currentIndex)\n              .map(el => (\n                <div className=\"imgSlide\" key={el.id}>\n                  <img src={el.url} alt={el.id} className=\"img\" />\n                </div>\n              ))}\n          <ul className=\"thumbnailWrap\">\n            {data.image_list &&\n              data.image_list.map((el, index) => (\n                <SlickThumbnail\n                  key={el.id}\n                  currentSlideId={currentIndex}\n                  slideId={index}\n                  imgUrl={el.url}\n                  changeSlide={() => changeSlide(index)}\n                />\n              ))}\n          </ul>\n        </div>\n        <div className=\"productInfo\">\n          <ProductInfoBox\n            productId={params.id}\n            koreanName={data.korean_name}\n            sugarLevel={data.sugar_level}\n            price={data.price}\n            infoTag={data.description}\n            isVegan={data.vegan_or_not}\n            thumbnailImg={data.thumbnail_image_url}\n            cartAndLikeBtn={true}\n            is_like_True={data.is_like_True}\n            updateProductLiked={updateProductLiked}\n          />\n        </div>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}