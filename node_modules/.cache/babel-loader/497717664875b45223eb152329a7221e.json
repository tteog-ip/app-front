{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/user/Desktop/\\uC8FC\\uD0DD\\uCCAD\\uC57D/App-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/user/Desktop/\\uC8FC\\uD0DD\\uCCAD\\uC57D/App-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/user/Desktop/\\uC8FC\\uD0DD\\uCCAD\\uC57D/App-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useCallback,useEffect,useState}from'react';import{useParams}from'react-router-dom';import SortSelectArea from'../ProductsSorted/SortSelectArea/SortSelectArea';import Product from'../Product/Product';import ModalBuyNow from'../ModalBuyNow/ModalBuyNow';import{TRANSELATE}from'../Transelate';import{API_ADDRESS}from'../../../apiConfig';import'./SortedProducts.scss';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var SortedProducts=function SortedProducts(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isProductLoading=_useState2[0],setIsProductLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),productsList=_useState4[0],setProductsList=_useState4[1];var _useParams=useParams(),mainCategory=_useParams.mainCategory,subCategory=_useParams.subCategory;var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isPopModal=_useState6[0],setIsPopModal=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),selectedProduct=_useState8[0],setSelectedProduct=_useState8[1];var fetchData=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var address;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(mainCategory==='all'){address=API_ADDRESS.product_all;}else{address=subCategory?\"\".concat(API_ADDRESS.products_location).concat(subCategory):\"\".concat(API_ADDRESS.products_region).concat(mainCategory);}_context.next=3;return fetch(address).then(function(res){return res.json();}).then(function(res){setProductsList(res.apts_list);});case 3:case\"end\":return _context.stop();}}},_callee);})),[mainCategory,subCategory]);useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setIsProductLoading(true);_context2.next=3;return fetchData();case 3:setIsProductLoading(false);case 4:case\"end\":return _context2.stop();}}},_callee2);}))();},[fetchData,subCategory,mainCategory]);var checkCategory=function checkCategory(name,category){return!!subCategory?name===mainCategory&&category===subCategory:name===mainCategory;};return!isProductLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"sortedProducts\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sortedProductsHead\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sortedProductsTitle\",children:[\"\".concat(TRANSELATE[mainCategory]),subCategory&&\" > \".concat(TRANSELATE[subCategory])]})}),/*#__PURE__*/_jsx(\"div\",{className:\"sortedProductsContainer\",children:productsList.length?productsList.map(function(el){return/*#__PURE__*/_jsx(Product,{el:el,id:el.id},el.id);}):/*#__PURE__*/_jsx(\"div\",{className:\"nullContentTable\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\uC8FC\\uD0DD\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"})})})]});};export default SortedProducts;","map":{"version":3,"names":["React","useCallback","useEffect","useState","useParams","SortSelectArea","Product","ModalBuyNow","TRANSELATE","API_ADDRESS","jsxs","_jsxs","jsx","_jsx","SortedProducts","_useState","_useState2","_slicedToArray","isProductLoading","setIsProductLoading","_useState3","_useState4","productsList","setProductsList","_useParams","mainCategory","subCategory","_useState5","_useState6","isPopModal","setIsPopModal","_useState7","_useState8","selectedProduct","setSelectedProduct","fetchData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","address","wrap","_callee$","_context","prev","next","product_all","concat","products_location","products_region","fetch","then","res","json","apts_list","stop","_callee2","_callee2$","_context2","checkCategory","name","category","className","children","length","map","el","id"],"sources":["C:/Users/user/Desktop/주택청약/App-frontend/src/pages/ProductList/SortedProducts/SortedProducts.js"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport SortSelectArea from '../ProductsSorted/SortSelectArea/SortSelectArea';\nimport Product from '../Product/Product';\nimport ModalBuyNow from '../ModalBuyNow/ModalBuyNow';\nimport { TRANSELATE } from '../Transelate';\nimport { API_ADDRESS } from '../../../apiConfig';\nimport './SortedProducts.scss';\n\nconst SortedProducts = () => {\n  const [isProductLoading, setIsProductLoading] = useState(false);\n  const [productsList, setProductsList] = useState([]);\n  const { mainCategory, subCategory } = useParams();\n  const [isPopModal, setIsPopModal] = useState(false);\n  const [selectedProduct, setSelectedProduct] = useState({});\n\n  const fetchData = useCallback(async () => {\n    let address;\n    if (mainCategory === 'all') {\n      address = API_ADDRESS.product_all;\n    } else {\n      address = subCategory\n        ? `${API_ADDRESS.products_location}${subCategory}`\n        : `${API_ADDRESS.products_region}${mainCategory}`;\n    }\n    await fetch(address)\n      .then(res => res.json())\n      .then(res => {\n        setProductsList(res.apts_list);\n      });\n  }, [mainCategory, subCategory]);\n\n  useEffect(() => {\n    (async () => {\n      setIsProductLoading(true);\n      await fetchData();\n      setIsProductLoading(false);\n    })();\n  }, [fetchData, subCategory, mainCategory]);\n\n  const checkCategory = (name, category) =>\n    !!subCategory\n      ? name === mainCategory && category === subCategory\n      : name === mainCategory;\n\n  return (\n    !isProductLoading && (\n      <div className=\"sortedProducts\">\n        <div className=\"sortedProductsHead\">\n          <div className=\"sortedProductsTitle\">\n            {`${TRANSELATE[mainCategory]}`}\n            {subCategory && ` > ${TRANSELATE[subCategory]}`}\n          </div>\n        </div>\n        <div className=\"sortedProductsContainer\">\n          {productsList.length ? (\n            productsList.map(el => <Product el={el} key={el.id} id={el.id} />)\n          ) : (\n            <div className=\"nullContentTable\">\n              <p>주택이 없습니다.</p>\n            </div>\n          )}\n        </div>\n      </div>\n    )\n  );\n};\n\nexport default SortedProducts;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}