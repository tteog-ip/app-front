{"ast":null,"code":"import React from'react';import{Link,useNavigate}from'react-router-dom';import Button from'../../../components/Button/Button';import{API_ADDRESS}from'../../../apiConfig';import'./Product.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Product=function Product(_ref){var el=_ref.el,id=_ref.id,_btnOnClick=_ref.btnOnClick,updateLike=_ref.updateLike;var token=localStorage.getItem('TOKEN');var navigate=useNavigate();function goToCart(){if(window.confirm('장바구니로 이동하시겠습니까?'))navigate('/order/cart');else return;}var addCartElement=function addCartElement(){fetch(API_ADDRESS.order_cart,{method:'POST',headers:{Authorization:token},body:JSON.stringify({product_id:id,quantity:1})}).then(goToCart);};var onLikeButton=function onLikeButton(){fetch(API_ADDRESS.products_like,{method:'POST',headers:{Authorization:token},body:JSON.stringify({product_id:id})});updateLike(id);};return/*#__PURE__*/_jsxs(\"div\",{className:\"product\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stickerWrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stickerBest\",children:\"BEST\"}),el.vegan_or_not&&/*#__PURE__*/_jsx(\"div\",{className:\"stickerVegan\",children:\"VEGAN\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"productContainer\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/product/\".concat(id),className:\"goToProductDetail\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"productImageWrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"imgBox\",children:/*#__PURE__*/_jsx(\"img\",{className:\"productImage\",alt:el.korean_name,src:el.thumbnail_image_url})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pdtInfo\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"infoTag\",children:el.description}),/*#__PURE__*/_jsx(\"h3\",{className:\"productName\",children:el.korean_name}),/*#__PURE__*/_jsx(\"div\",{className:\"price\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"productPrice\",children:[Math.round(el.price),\" \\uC6D0\"]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"productButtonContainer\",children:[/*#__PURE__*/_jsx(Button,{btnOnClick:function btnOnClick(event){return _btnOnClick(el);},point:true,children:\"\\uBC14\\uB85C\\uAD6C\\uB9E4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"smallBtn\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"productCartButton\",onClick:addCartElement,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-shopping-cart\"})}),/*#__PURE__*/_jsxs(\"button\",{className:el.is_like_True?'productLikeButton isLiked':'productLikeButton',onClick:onLikeButton,children:[/*#__PURE__*/_jsxs(\"p\",{className:\"likeNum\",children:[el.like_num,/*#__PURE__*/_jsx(\"div\",{className:\"div\"})]}),/*#__PURE__*/_jsx(\"i\",{className:\"far fa-heart\"})]})]})]})]})]});};export default Product;","map":{"version":3,"names":["React","Link","useNavigate","Button","API_ADDRESS","jsx","_jsx","jsxs","_jsxs","Product","_ref","el","id","btnOnClick","updateLike","token","localStorage","getItem","navigate","goToCart","window","confirm","addCartElement","fetch","order_cart","method","headers","Authorization","body","JSON","stringify","product_id","quantity","then","onLikeButton","products_like","className","children","vegan_or_not","to","concat","alt","korean_name","src","thumbnail_image_url","description","Math","round","price","event","point","onClick","is_like_True","like_num"],"sources":["C:/Users/user/Desktop/2차프로젝트/DrTart-frontend/src/pages/ProductList/Product/Product.js"],"sourcesContent":["import React from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport Button from '../../../components/Button/Button';\nimport { API_ADDRESS } from '../../../apiConfig';\nimport './Product.scss';\n\nconst Product = ({ el, id, btnOnClick, updateLike }) => {\n  let token = localStorage.getItem('TOKEN');\n\n  const navigate = useNavigate();\n\n  function goToCart() {\n    if (window.confirm('장바구니로 이동하시겠습니까?')) navigate('/order/cart');\n    else return;\n  }\n\n  const addCartElement = () => {\n    fetch(API_ADDRESS.order_cart, {\n      method: 'POST',\n      headers: {\n        Authorization: token,\n      },\n      body: JSON.stringify({\n        product_id: id,\n        quantity: 1,\n      }),\n    }).then(goToCart);\n  };\n\n  const onLikeButton = () => {\n    fetch(API_ADDRESS.products_like, {\n      method: 'POST',\n      headers: {\n        Authorization: token,\n      },\n      body: JSON.stringify({\n        product_id: id,\n      }),\n    });\n    updateLike(id);\n  };\n\n  return (\n    <div className=\"product\">\n      <div className=\"stickerWrap\">\n        <div className=\"stickerBest\">BEST</div>\n        {el.vegan_or_not && <div className=\"stickerVegan\">VEGAN</div>}\n      </div>\n      <div className=\"productContainer\">\n        <Link to={`/product/${id}`} className=\"goToProductDetail\">\n          <div className=\"productImageWrapper\">\n            <div className=\"imgBox\">\n              <img\n                className=\"productImage\"\n                alt={el.korean_name}\n                src={el.thumbnail_image_url}\n              />\n            </div>\n          </div>\n          <div className=\"pdtInfo\">\n            <p className=\"infoTag\">{el.description}</p>\n            <h3 className=\"productName\">{el.korean_name}</h3>\n            <div className=\"price\">\n              <p className=\"productPrice\">{Math.round(el.price)} 원</p>\n            </div>\n          </div>\n        </Link>\n        <div className=\"productButtonContainer\">\n          <Button btnOnClick={event => btnOnClick(el)} point={true}>\n            바로구매\n          </Button>\n          <div className=\"smallBtn\">\n            <button className=\"productCartButton\" onClick={addCartElement}>\n              <i className=\"fas fa-shopping-cart\" />\n            </button>\n            <button\n              className={\n                el.is_like_True\n                  ? 'productLikeButton isLiked'\n                  : 'productLikeButton'\n              }\n              onClick={onLikeButton}\n            >\n              <p className=\"likeNum\">\n                {el.like_num}\n                <div className=\"div\" />\n              </p>\n              <i className=\"far fa-heart\" />\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Product;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}