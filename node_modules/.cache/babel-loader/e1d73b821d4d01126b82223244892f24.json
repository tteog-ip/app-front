{"ast":null,"code":"import _slicedToArray from\"C:/Users/user/Desktop/2\\uCC28\\uD504\\uB85C\\uC81D\\uD2B8/DrTart-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{API_ADDRESS}from'../../apiConfig';import{ReactComponent as Cart}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/cart.svg\";import{ReactComponent as Login}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/login.svg\";import{ReactComponent as Logout}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/logout.svg\";import{ReactComponent as Logo}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/logo.svg\";import{ReactComponent as HamburgerBar}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/HamburgerBar.svg\";import{ReactComponent as Titlelogo}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/Titlelogo.svg\";import{ReactComponent as MyPage}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/mypage.svg\";import'./Nav.scss';import{ReactComponent as Xbutton}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/Xbutton.svg\";import{useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Nav=function Nav(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isExtended=_useState2[0],setIsExtended=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isButtonValid=_useState4[0],setIsButtonValid=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),cartProductNum=_useState6[0],seCartProductNum=_useState6[1];var onNavToggled=function onNavToggled(){setIsExtended(!isExtended);};var token=localStorage.getItem('TOKEN')||'';var navigate=useNavigate();var goToCart=function goToCart(){if(token){navigate('/order/cart');}else{alert('로그인이 필요합니다.');navigate('/login');}};var goToMyPage=function goToMyPage(){if(token){navigate('/order/list');}else{alert('로그인이 필요합니다.');navigate('/login');}};var onLoginButton=function onLoginButton(){if(token){localStorage.clear();setIsButtonValid(function(){return!isButtonValid;});alert('로그아웃 되었습니다');navigate('/');}else if(!token){navigate('/login');setIsButtonValid(function(){return isButtonValid;});}};useEffect(function(){token?setIsButtonValid(true):setIsButtonValid(false);},[token]);var closedNav=function closedNav(){setIsExtended(false);};useEffect(function(){fetch(API_ADDRESS.order_cart,{headers:{Authorization:token}}).then(function(res){return res.json();}).then(function(result){var _result$cart_info;return seCartProductNum(((_result$cart_info=result.cart_info)===null||_result$cart_info===void 0?void 0:_result$cart_info.length)||0);});},[cartProductNum,token]);return/*#__PURE__*/_jsxs(\"nav\",{className:\"sideNav\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"basicNav \".concat(isExtended&&'toggledNav'),children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"div\",{className:isExtended&&'animationRight',children:/*#__PURE__*/_jsx(\"button\",{className:\"navButton home \",children:/*#__PURE__*/_jsx(Logo,{})})})}),/*#__PURE__*/_jsx(\"button\",{className:\"navButton hamburgerBar\",type:\"checkbox\",onClick:onNavToggled,children:isExtended?/*#__PURE__*/_jsx(Xbutton,{}):/*#__PURE__*/_jsx(HamburgerBar,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"dummyElement\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"navButtonContainer\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"navButton\",onClick:goToCart,children:[cartProductNum!==0&&/*#__PURE__*/_jsx(\"div\",{className:\"circleCart\",children:/*#__PURE__*/_jsx(\"p\",{className:\"cartNum\",children:cartProductNum})}),/*#__PURE__*/_jsxs(\"p\",{className:\"description\",children:[\"\\uC7A5\\uBC14\\uAD6C\\uB2C8\",/*#__PURE__*/_jsx(\"div\",{className:\"div\"})]}),/*#__PURE__*/_jsx(Cart,{})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"navButton\",onClick:goToMyPage,children:[/*#__PURE__*/_jsxs(\"p\",{className:\"description\",children:[\"\\uB0B4 \\uC8FC\\uBB38\",/*#__PURE__*/_jsx(\"div\",{className:\"div\"})]}),/*#__PURE__*/_jsx(MyPage,{})]}),/*#__PURE__*/_jsxs(\"button\",{className:isButtonValid?'navButton signIn':'navButton signOut',onClick:onLoginButton,children:[isButtonValid?/*#__PURE__*/_jsxs(\"p\",{className:\"description\",children:[\"\\uB85C\\uADF8\\uC544\\uC6C3\",/*#__PURE__*/_jsx(\"div\",{className:\"div\"})]}):/*#__PURE__*/_jsxs(\"p\",{className:\"description\",children:[\"\\uB85C\\uADF8\\uC778\",/*#__PURE__*/_jsx(\"div\",{className:\"div\"})]}),isButtonValid?/*#__PURE__*/_jsx(Logout,{}):/*#__PURE__*/_jsx(Login,{})]})]})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"extensionNav \".concat(isExtended?'':'toggledNav'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"extensionNavContainer\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"tartLogo\",children:/*#__PURE__*/_jsx(Titlelogo,{})})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"extensionNavButtonWrapper\",children:[/*#__PURE__*/_jsx(Link,{to:\"/product-list\",children:/*#__PURE__*/_jsx(\"li\",{className:\"extensionNavButton\",onClick:closedNav,children:\"\\uC81C\\uD488\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"extensionNavButton\",onClick:closedNav,children:\"\\uBE0C\\uB79C\\uB4DC\"}),/*#__PURE__*/_jsx(\"li\",{className:\"extensionNavButton\",onClick:closedNav,children:\"\\uC2A4\\uD1A0\\uB9AC\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"maskOff \".concat(isExtended&&'maskOn')})]});};export default Nav;","map":{"version":3,"names":["React","useState","Link","useNavigate","API_ADDRESS","ReactComponent","Cart","Login","Logout","Logo","HamburgerBar","Titlelogo","MyPage","Xbutton","useEffect","jsx","_jsx","jsxs","_jsxs","Nav","_useState","_useState2","_slicedToArray","isExtended","setIsExtended","_useState3","_useState4","isButtonValid","setIsButtonValid","_useState5","_useState6","cartProductNum","seCartProductNum","onNavToggled","token","localStorage","getItem","navigate","goToCart","alert","goToMyPage","onLoginButton","clear","closedNav","fetch","order_cart","headers","Authorization","then","res","json","result","_result$cart_info","cart_info","length","className","children","concat","to","type","onClick"],"sources":["C:/Users/user/Desktop/2차프로젝트/DrTart-frontend/src/components/Nav/Nav.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { API_ADDRESS } from '../../apiConfig';\nimport { ReactComponent as Cart } from '../../assets/cart.svg';\nimport { ReactComponent as Login } from '../../assets/login.svg';\nimport { ReactComponent as Logout } from '../../assets/logout.svg';\nimport { ReactComponent as Logo } from '../../assets/logo.svg';\nimport { ReactComponent as HamburgerBar } from '../../assets/HamburgerBar.svg';\nimport { ReactComponent as Titlelogo } from '../../assets/Titlelogo.svg';\nimport { ReactComponent as MyPage } from '../../assets/mypage.svg';\nimport './Nav.scss';\nimport { ReactComponent as Xbutton } from '../../assets/Xbutton.svg';\nimport { useEffect } from 'react';\n\nconst Nav = () => {\n  const [isExtended, setIsExtended] = useState(false);\n  const [isButtonValid, setIsButtonValid] = useState(false);\n  const [cartProductNum, seCartProductNum] = useState(0);\n\n  const onNavToggled = () => {\n    setIsExtended(!isExtended);\n  };\n\n  let token = localStorage.getItem('TOKEN') || '';\n  const navigate = useNavigate();\n\n  const goToCart = () => {\n    if (token) {\n      navigate('/order/cart');\n    } else {\n      alert('로그인이 필요합니다.');\n      navigate('/login');\n    }\n  };\n\n  const goToMyPage = () => {\n    if (token) {\n      navigate('/order/list');\n    } else {\n      alert('로그인이 필요합니다.');\n      navigate('/login');\n    }\n  };\n\n  const onLoginButton = () => {\n    if (token) {\n      localStorage.clear();\n      setIsButtonValid(() => !isButtonValid);\n      alert('로그아웃 되었습니다');\n      navigate('/');\n    } else if (!token) {\n      navigate('/login');\n      setIsButtonValid(() => isButtonValid);\n    }\n  };\n\n  useEffect(() => {\n    token ? setIsButtonValid(true) : setIsButtonValid(false);\n  }, [token]);\n\n  const closedNav = () => {\n    setIsExtended(false);\n  };\n\n  useEffect(() => {\n    fetch(API_ADDRESS.order_cart, {\n      headers: {\n        Authorization: token,\n      },\n    })\n      .then(res => res.json())\n      .then(result => seCartProductNum(result.cart_info?.length || 0));\n  }, [cartProductNum, token]);\n\n  return (\n    <nav className=\"sideNav\">\n      <div className={`basicNav ${isExtended && 'toggledNav'}`}>\n        <Link to=\"/\">\n          <div className={isExtended && 'animationRight'}>\n            <button className=\"navButton home \">\n              <Logo />\n            </button>\n          </div>\n        </Link>\n        <button\n          className=\"navButton hamburgerBar\"\n          type=\"checkbox\"\n          onClick={onNavToggled}\n        >\n          {isExtended ? <Xbutton /> : <HamburgerBar />}\n        </button>\n        <div className=\"dummyElement\" />\n        <div className=\"navButtonContainer\">\n          <button className=\"navButton\" onClick={goToCart}>\n            {cartProductNum !== 0 && (\n              <div className=\"circleCart\">\n                <p className=\"cartNum\">{cartProductNum}</p>\n              </div>\n            )}\n\n            <p className=\"description\">\n              장바구니\n              <div className=\"div\" />\n            </p>\n            <Cart />\n          </button>\n\n          <button className=\"navButton\" onClick={goToMyPage}>\n            <p className=\"description\">\n              내 주문\n              <div className=\"div\" />\n            </p>\n            <MyPage />\n          </button>\n\n          <button\n            className={isButtonValid ? 'navButton signIn' : 'navButton signOut'}\n            onClick={onLoginButton}\n          >\n            {isButtonValid ? (\n              <p className=\"description\">\n                로그아웃\n                <div className=\"div\" />\n              </p>\n            ) : (\n              <p className=\"description\">\n                로그인\n                <div className=\"div\" />\n              </p>\n            )}\n            {isButtonValid ? <Logout /> : <Login />}\n          </button>\n        </div>\n      </div>\n      <nav className={`extensionNav ${isExtended ? '' : 'toggledNav'}`}>\n        <div className=\"extensionNavContainer\">\n          <Link to=\"/\">\n            <h1 className=\"tartLogo\">\n              <Titlelogo />\n            </h1>\n          </Link>\n          <ul className=\"extensionNavButtonWrapper\">\n            <Link to=\"/product-list\">\n              <li className=\"extensionNavButton\" onClick={closedNav}>\n                제품\n              </li>\n            </Link>\n            <li className=\"extensionNavButton\" onClick={closedNav}>\n              브랜드\n            </li>\n            <li className=\"extensionNavButton\" onClick={closedNav}>\n              스토리\n            </li>\n          </ul>\n        </div>\n      </nav>\n      <div className={`maskOff ${isExtended && 'maskOn'}`} />\n    </nav>\n  );\n};\n\nexport default Nav;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}