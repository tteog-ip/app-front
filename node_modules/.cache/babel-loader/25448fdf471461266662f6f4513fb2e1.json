{"ast":null,"code":"import React from'react';import{Link,useNavigate}from'react-router-dom';import Button from'../../../components/Button/Button';import{API_ADDRESS}from'../../../apiConfig';import'./Product.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Product=function Product(_ref){var el=_ref.el,id=_ref.id,_btnOnClick=_ref.btnOnClick,updateLike=_ref.updateLike;var token=localStorage.getItem('TOKEN');var navigate=useNavigate();function goToCart(){if(window.confirm('장바구니로 이동하시겠습니까?'))navigate('/order/cart');else return;}var addCartElement=function addCartElement(){fetch(API_ADDRESS.order_cart,{method:'POST',headers:{Authorization:token},body:JSON.stringify({product_id:id,quantity:1})}).then(goToCart);};var onLikeButton=function onLikeButton(){fetch(API_ADDRESS.products_like,{method:'POST',headers:{Authorization:token},body:JSON.stringify({product_id:id})});updateLike(id);};return/*#__PURE__*/_jsxs(\"div\",{className:\"product\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stickerWrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stickerBest\",children:\"BEST\"}),el.vegan_or_not&&/*#__PURE__*/_jsx(\"div\",{className:\"stickerVegan\",children:\"VEGAN\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"productContainer\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/product/\".concat(id),className:\"goToProductDetail\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"productImageWrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"imgBox\",children:/*#__PURE__*/_jsx(\"img\",{className:\"productImage\",alt:el.korean_name,src:el.thumbnail_image_url})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"pdtInfo\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"infoTag\",children:el.description}),/*#__PURE__*/_jsx(\"h3\",{className:\"productName\",children:el.korean_name}),/*#__PURE__*/_jsx(\"div\",{className:\"price\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"productPrice\",children:[Math.round(el.price),\" \\uC6D0\"]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"productButtonContainer\",children:[/*#__PURE__*/_jsx(Button,{btnOnClick:function btnOnClick(event){return _btnOnClick(el);},point:true,children:\"\\uBC14\\uB85C\\uAD6C\\uB9E4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"smallBtn\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"productCartButton\",onClick:addCartElement,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-shopping-cart\"})}),/*#__PURE__*/_jsxs(\"button\",{className:el.is_like_True?'productLikeButton isLiked':'productLikeButton',onClick:onLikeButton,children:[/*#__PURE__*/_jsxs(\"p\",{className:\"likeNum\",children:[el.like_num,/*#__PURE__*/_jsx(\"div\",{className:\"div\"})]}),/*#__PURE__*/_jsx(\"i\",{className:\"far fa-heart\"})]})]})]})]})]});};export default Product;","map":{"version":3,"sources":["C:/Users/user/Desktop/2차프로젝트/DrTart-frontend/src/pages/ProductList/Product/Product.js"],"names":["React","Link","useNavigate","Button","API_ADDRESS","Product","el","id","btnOnClick","updateLike","token","localStorage","getItem","navigate","goToCart","window","confirm","addCartElement","fetch","order_cart","method","headers","Authorization","body","JSON","stringify","product_id","quantity","then","onLikeButton","products_like","vegan_or_not","korean_name","thumbnail_image_url","description","Math","round","price","event","is_like_True","like_num"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport Button from '../../../components/Button/Button';\nimport { API_ADDRESS } from '../../../apiConfig';\nimport './Product.scss';\n\nconst Product = ({ el, id, btnOnClick, updateLike }) => {\n  let token = localStorage.getItem('TOKEN');\n\n  const navigate = useNavigate();\n\n  function goToCart() {\n    if (window.confirm('장바구니로 이동하시겠습니까?')) navigate('/order/cart');\n    else return;\n  }\n\n  const addCartElement = () => {\n    fetch(API_ADDRESS.order_cart, {\n      method: 'POST',\n      headers: {\n        Authorization: token,\n      },\n      body: JSON.stringify({\n        product_id: id,\n        quantity: 1,\n      }),\n    }).then(goToCart);\n  };\n\n  const onLikeButton = () => {\n    fetch(API_ADDRESS.products_like, {\n      method: 'POST',\n      headers: {\n        Authorization: token,\n      },\n      body: JSON.stringify({\n        product_id: id,\n      }),\n    });\n    updateLike(id);\n  };\n\n  return (\n    <div className=\"product\">\n      <div className=\"stickerWrap\">\n        <div className=\"stickerBest\">BEST</div>\n        {el.vegan_or_not && <div className=\"stickerVegan\">VEGAN</div>}\n      </div>\n      <div className=\"productContainer\">\n        <Link to={`/product/${id}`} className=\"goToProductDetail\">\n          <div className=\"productImageWrapper\">\n            <div className=\"imgBox\">\n              <img\n                className=\"productImage\"\n                alt={el.korean_name}\n                src={el.thumbnail_image_url}\n              />\n            </div>\n          </div>\n          <div className=\"pdtInfo\">\n            <p className=\"infoTag\">{el.description}</p>\n            <h3 className=\"productName\">{el.korean_name}</h3>\n            <div className=\"price\">\n              <p className=\"productPrice\">{Math.round(el.price)} 원</p>\n            </div>\n          </div>\n        </Link>\n        <div className=\"productButtonContainer\">\n          <Button btnOnClick={event => btnOnClick(el)} point={true}>\n            바로구매\n          </Button>\n          <div className=\"smallBtn\">\n            <button className=\"productCartButton\" onClick={addCartElement}>\n              <i className=\"fas fa-shopping-cart\" />\n            </button>\n            <button\n              className={\n                el.is_like_True\n                  ? 'productLikeButton isLiked'\n                  : 'productLikeButton'\n              }\n              onClick={onLikeButton}\n            >\n              <p className=\"likeNum\">\n                {el.like_num}\n                <div className=\"div\" />\n              </p>\n              <i className=\"far fa-heart\" />\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Product;\n"]},"metadata":{},"sourceType":"module"}