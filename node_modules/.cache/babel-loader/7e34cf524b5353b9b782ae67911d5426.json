{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\CYKIM\\\\Desktop\\\\DrTart-frontend-main\\\\src\\\\pages\\\\ProductDetail\\\\ProductDetail.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router';\nimport SlickThumbnail from './SlickThumbnail';\nimport ProductListNav from '../ProductList/ProductListNav/ProductListNav';\nimport ProductReview from './ProductReview/ProductReview';\nimport ProductInfoBox from '../../components/ProductInfoBox/ProductInfoBox';\nimport { API_ADDRESS } from '../../apiConfig';\nimport './ProductDetail.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ProductDetail() {\n  _s();\n\n  const params = useParams();\n  const [data, setData] = useState({});\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  const updateProductLiked = () => {\n    const updatedProduct = { ...data,\n      is_like_True: !data.is_like_True\n    };\n    setData(updatedProduct);\n  };\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n  useEffect(() => {\n    fetch(API_ADDRESS.products + params.id).then(res => res.json()).then(res => {\n      setData(res.product_list);\n    });\n  }, [params.id]);\n  useEffect(() => {\n    const slideInterval = setInterval(() => {\n      var _data$image_list;\n\n      currentIndex >= ((_data$image_list = data.image_list) === null || _data$image_list === void 0 ? void 0 : _data$image_list.length) - 1 || 0 ? setCurrentIndex(0) : setCurrentIndex(prev => prev + 1);\n    }, 4000);\n    return () => {\n      clearInterval(slideInterval);\n    };\n  }, [currentIndex, data]);\n\n  const changeSlide = index => {\n    setCurrentIndex(index);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ProductListNav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"slideAndInfoWrap\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"slide\",\n        children: [data.image_list && data.image_list.filter((el, index) => index === currentIndex).map(el => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"imgSlide\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: el.url,\n            alt: el.id,\n            className: \"img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 19\n          }, this)\n        }, el.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this)), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"thumbnailWrap\",\n          children: data.image_list && data.image_list.map((el, index) => /*#__PURE__*/_jsxDEV(SlickThumbnail, {\n            currentSlideId: currentIndex,\n            slideId: index,\n            imgUrl: el.url,\n            changeSlide: () => changeSlide(index)\n          }, el.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"productInfo\",\n        children: /*#__PURE__*/_jsxDEV(ProductInfoBox, {\n          productId: params.id,\n          koreanName: data.korean_name,\n          sugarLevel: data.sugar_level,\n          price: data.price,\n          infoTag: data.description,\n          isVegan: data.vegan_or_not,\n          thumbnailImg: data.thumbnail_image_url,\n          cartAndLikeBtn: true,\n          is_like_True: data.is_like_True,\n          updateProductLiked: updateProductLiked\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ProductReview, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(ProductDetail, \"mKtMFjsXS/Zs4TtwwBPMvIFcibk=\", false, function () {\n  return [useParams];\n});\n\n_c = ProductDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductDetail\");","map":{"version":3,"sources":["C:/Users/CYKIM/Desktop/DrTart-frontend-main/src/pages/ProductDetail/ProductDetail.js"],"names":["React","useState","useEffect","useParams","SlickThumbnail","ProductListNav","ProductReview","ProductInfoBox","API_ADDRESS","ProductDetail","params","data","setData","currentIndex","setCurrentIndex","updateProductLiked","updatedProduct","is_like_True","window","scrollTo","fetch","products","id","then","res","json","product_list","slideInterval","setInterval","image_list","length","prev","clearInterval","changeSlide","index","filter","el","map","url","korean_name","sugar_level","price","description","vegan_or_not","thumbnail_image_url"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,cAAP,MAA2B,8CAA3B;AACA,OAAOC,aAAP,MAA0B,+BAA1B;AACA,OAAOC,cAAP,MAA2B,gDAA3B;AACA,SAASC,WAAT,QAA4B,iBAA5B;AACA,OAAO,sBAAP;;;AAEA,eAAe,SAASC,aAAT,GAAyB;AAAA;;AACtC,QAAMC,MAAM,GAAGP,SAAS,EAAxB;AACA,QAAM,CAACQ,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACY,YAAD,EAAeC,eAAf,IAAkCb,QAAQ,CAAC,CAAD,CAAhD;;AAEA,QAAMc,kBAAkB,GAAG,MAAM;AAC/B,UAAMC,cAAc,GAAG,EAAE,GAAGL,IAAL;AAAWM,MAAAA,YAAY,EAAE,CAACN,IAAI,CAACM;AAA/B,KAAvB;AAEAL,IAAAA,OAAO,CAACI,cAAD,CAAP;AACD,GAJD;;AAMAd,EAAAA,SAAS,CAAC,MAAM;AACdgB,IAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACD,GAFQ,EAEN,EAFM,CAAT;AAIAjB,EAAAA,SAAS,CAAC,MAAM;AACdkB,IAAAA,KAAK,CAACZ,WAAW,CAACa,QAAZ,GAAuBX,MAAM,CAACY,EAA/B,CAAL,CACGC,IADH,CACQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAEQC,GAAG,IAAI;AACXZ,MAAAA,OAAO,CAACY,GAAG,CAACE,YAAL,CAAP;AACD,KAJH;AAKD,GANQ,EAMN,CAAChB,MAAM,CAACY,EAAR,CANM,CAAT;AAQApB,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMyB,aAAa,GAAGC,WAAW,CAAC,MAAM;AAAA;;AACtCf,MAAAA,YAAY,IAAI,qBAAAF,IAAI,CAACkB,UAAL,sEAAiBC,MAAjB,IAA0B,CAA1C,IAA+C,CAA/C,GACIhB,eAAe,CAAC,CAAD,CADnB,GAEIA,eAAe,CAACiB,IAAI,IAAIA,IAAI,GAAG,CAAhB,CAFnB;AAGD,KAJgC,EAI9B,IAJ8B,CAAjC;AAMA,WAAO,MAAM;AACXC,MAAAA,aAAa,CAACL,aAAD,CAAb;AACD,KAFD;AAGD,GAVQ,EAUN,CAACd,YAAD,EAAeF,IAAf,CAVM,CAAT;;AAYA,QAAMsB,WAAW,GAAGC,KAAK,IAAI;AAC3BpB,IAAAA,eAAe,CAACoB,KAAD,CAAf;AACD,GAFD;;AAIA,sBACE;AAAA,4BACE,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA,mBACGvB,IAAI,CAACkB,UAAL,IACClB,IAAI,CAACkB,UAAL,CACGM,MADH,CACU,CAACC,EAAD,EAAKF,KAAL,KAAeA,KAAK,KAAKrB,YADnC,EAEGwB,GAFH,CAEOD,EAAE,iBACL;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA,iCACE;AAAK,YAAA,GAAG,EAAEA,EAAE,CAACE,GAAb;AAAkB,YAAA,GAAG,EAAEF,EAAE,CAACd,EAA1B;AAA8B,YAAA,SAAS,EAAC;AAAxC;AAAA;AAAA;AAAA;AAAA;AADF,WAA+Bc,EAAE,CAACd,EAAlC;AAAA;AAAA;AAAA;AAAA,gBAHJ,CAFJ,eASE;AAAI,UAAA,SAAS,EAAC,eAAd;AAAA,oBACGX,IAAI,CAACkB,UAAL,IACClB,IAAI,CAACkB,UAAL,CAAgBQ,GAAhB,CAAoB,CAACD,EAAD,EAAKF,KAAL,kBAClB,QAAC,cAAD;AAEE,YAAA,cAAc,EAAErB,YAFlB;AAGE,YAAA,OAAO,EAAEqB,KAHX;AAIE,YAAA,MAAM,EAAEE,EAAE,CAACE,GAJb;AAKE,YAAA,WAAW,EAAE,MAAML,WAAW,CAACC,KAAD;AALhC,aACOE,EAAE,CAACd,EADV;AAAA;AAAA;AAAA;AAAA,kBADF;AAFJ;AAAA;AAAA;AAAA;AAAA,gBATF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAuBE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,+BACE,QAAC,cAAD;AACE,UAAA,SAAS,EAAEZ,MAAM,CAACY,EADpB;AAEE,UAAA,UAAU,EAAEX,IAAI,CAAC4B,WAFnB;AAGE,UAAA,UAAU,EAAE5B,IAAI,CAAC6B,WAHnB;AAIE,UAAA,KAAK,EAAE7B,IAAI,CAAC8B,KAJd;AAKE,UAAA,OAAO,EAAE9B,IAAI,CAAC+B,WALhB;AAME,UAAA,OAAO,EAAE/B,IAAI,CAACgC,YANhB;AAOE,UAAA,YAAY,EAAEhC,IAAI,CAACiC,mBAPrB;AAQE,UAAA,cAAc,EAAE,IARlB;AASE,UAAA,YAAY,EAAEjC,IAAI,CAACM,YATrB;AAUE,UAAA,kBAAkB,EAAEF;AAVtB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAvBF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,eAwCE,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,YAxCF;AAAA,kBADF;AA4CD;;GAnFuBN,a;UACPN,S;;;KADOM,a","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router';\nimport SlickThumbnail from './SlickThumbnail';\nimport ProductListNav from '../ProductList/ProductListNav/ProductListNav';\nimport ProductReview from './ProductReview/ProductReview';\nimport ProductInfoBox from '../../components/ProductInfoBox/ProductInfoBox';\nimport { API_ADDRESS } from '../../apiConfig';\nimport './ProductDetail.scss';\n\nexport default function ProductDetail() {\n  const params = useParams();\n  const [data, setData] = useState({});\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  const updateProductLiked = () => {\n    const updatedProduct = { ...data, is_like_True: !data.is_like_True };\n\n    setData(updatedProduct);\n  };\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  useEffect(() => {\n    fetch(API_ADDRESS.products + params.id)\n      .then(res => res.json())\n      .then(res => {\n        setData(res.product_list);\n      });\n  }, [params.id]);\n\n  useEffect(() => {\n    const slideInterval = setInterval(() => {\n      currentIndex >= data.image_list?.length - 1 || 0\n        ? setCurrentIndex(0)\n        : setCurrentIndex(prev => prev + 1);\n    }, 4000);\n\n    return () => {\n      clearInterval(slideInterval);\n    };\n  }, [currentIndex, data]);\n\n  const changeSlide = index => {\n    setCurrentIndex(index);\n  };\n\n  return (\n    <>\n      <ProductListNav />\n      <div className=\"slideAndInfoWrap\">\n        <div className=\"slide\">\n          {data.image_list &&\n            data.image_list\n              .filter((el, index) => index === currentIndex)\n              .map(el => (\n                <div className=\"imgSlide\" key={el.id}>\n                  <img src={el.url} alt={el.id} className=\"img\" />\n                </div>\n              ))}\n          <ul className=\"thumbnailWrap\">\n            {data.image_list &&\n              data.image_list.map((el, index) => (\n                <SlickThumbnail\n                  key={el.id}\n                  currentSlideId={currentIndex}\n                  slideId={index}\n                  imgUrl={el.url}\n                  changeSlide={() => changeSlide(index)}\n                />\n              ))}\n          </ul>\n        </div>\n        <div className=\"productInfo\">\n          <ProductInfoBox\n            productId={params.id}\n            koreanName={data.korean_name}\n            sugarLevel={data.sugar_level}\n            price={data.price}\n            infoTag={data.description}\n            isVegan={data.vegan_or_not}\n            thumbnailImg={data.thumbnail_image_url}\n            cartAndLikeBtn={true}\n            is_like_True={data.is_like_True}\n            updateProductLiked={updateProductLiked}\n          />\n        </div>\n      </div>\n      <ProductReview />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}