{"ast":null,"code":"import _slicedToArray from\"C:/Users/user/Desktop/2\\uCC28\\uD504\\uB85C\\uC81D\\uD2B8/DrTart-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Link,useNavigate}from'react-router-dom';import{API_ADDRESS}from'../../apiConfig';import{ReactComponent as Cart}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/cart.svg\";import{ReactComponent as Login}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/login.svg\";import{ReactComponent as Logout}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/logout.svg\";import{ReactComponent as Logo}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/logo.svg\";import{ReactComponent as HamburgerBar}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/HamburgerBar.svg\";import{ReactComponent as Titlelogo}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/Titlelogo.svg\";import{ReactComponent as MyPage}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/mypage.svg\";import'./Nav.scss';import{ReactComponent as Xbutton}from\"@svgr/webpack?-svgo,+titleProp,+ref!../../assets/Xbutton.svg\";import{useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Nav=function Nav(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isExtended=_useState2[0],setIsExtended=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isButtonValid=_useState4[0],setIsButtonValid=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),cartProductNum=_useState6[0],seCartProductNum=_useState6[1];var onNavToggled=function onNavToggled(){setIsExtended(!isExtended);};var token=localStorage.getItem('TOKEN')||'';var navigate=useNavigate();var goToCart=function goToCart(){if(token){navigate('/order/cart');}else{alert('로그인이 필요합니다.');navigate('/login');}};var goToMyPage=function goToMyPage(){if(token){navigate('/order/list');}else{alert('로그인이 필요합니다.');navigate('/login');}};var onLoginButton=function onLoginButton(){if(token){localStorage.clear();setIsButtonValid(function(){return!isButtonValid;});alert('로그아웃 되었습니다');navigate('/');}else if(!token){navigate('/login');setIsButtonValid(function(){return isButtonValid;});}};useEffect(function(){token?setIsButtonValid(true):setIsButtonValid(false);},[token]);var closedNav=function closedNav(){setIsExtended(false);};useEffect(function(){fetch(API_ADDRESS.order_cart,{headers:{Authorization:token}}).then(function(res){return res.json();}).then(function(result){var _result$cart_info;return seCartProductNum(((_result$cart_info=result.cart_info)===null||_result$cart_info===void 0?void 0:_result$cart_info.length)||0);});},[cartProductNum,token]);return/*#__PURE__*/_jsxs(\"nav\",{className:\"sideNav\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"basicNav \".concat(isExtended&&'toggledNav'),children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"div\",{className:isExtended&&'animationRight',children:/*#__PURE__*/_jsx(\"button\",{className:\"navButton home \",children:/*#__PURE__*/_jsx(Logo,{})})})}),/*#__PURE__*/_jsx(\"button\",{className:\"navButton hamburgerBar\",type:\"checkbox\",onClick:onNavToggled,children:isExtended?/*#__PURE__*/_jsx(Xbutton,{}):/*#__PURE__*/_jsx(HamburgerBar,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"dummyElement\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"navButtonContainer\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"navButton\",onClick:goToCart,children:[cartProductNum!==0&&/*#__PURE__*/_jsx(\"div\",{className:\"circleCart\",children:/*#__PURE__*/_jsx(\"p\",{className:\"cartNum\",children:cartProductNum})}),/*#__PURE__*/_jsxs(\"p\",{className:\"description\",children:[\"\\uC7A5\\uBC14\\uAD6C\\uB2C8\",/*#__PURE__*/_jsx(\"div\",{className:\"div\"})]}),/*#__PURE__*/_jsx(Cart,{})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"navButton\",onClick:goToMyPage,children:[/*#__PURE__*/_jsxs(\"p\",{className:\"description\",children:[\"\\uB0B4 \\uC8FC\\uBB38\",/*#__PURE__*/_jsx(\"div\",{className:\"div\"})]}),/*#__PURE__*/_jsx(MyPage,{})]}),/*#__PURE__*/_jsxs(\"button\",{className:isButtonValid?'navButton signIn':'navButton signOut',onClick:onLoginButton,children:[isButtonValid?/*#__PURE__*/_jsxs(\"p\",{className:\"description\",children:[\"\\uB85C\\uADF8\\uC544\\uC6C3\",/*#__PURE__*/_jsx(\"div\",{className:\"div\"})]}):/*#__PURE__*/_jsxs(\"p\",{className:\"description\",children:[\"\\uB85C\\uADF8\\uC778\",/*#__PURE__*/_jsx(\"div\",{className:\"div\"})]}),isButtonValid?/*#__PURE__*/_jsx(Logout,{}):/*#__PURE__*/_jsx(Login,{})]})]})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"extensionNav \".concat(isExtended?'':'toggledNav'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"extensionNavContainer\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"tartLogo\",children:/*#__PURE__*/_jsx(Titlelogo,{})})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"extensionNavButtonWrapper\",children:[/*#__PURE__*/_jsx(Link,{to:\"/product-list\",children:/*#__PURE__*/_jsx(\"li\",{className:\"extensionNavButton\",onClick:closedNav,children:\"\\uC81C\\uD488\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"extensionNavButton\",onClick:closedNav,children:\"\\uBE0C\\uB79C\\uB4DC\"}),/*#__PURE__*/_jsx(\"li\",{className:\"extensionNavButton\",onClick:closedNav,children:\"\\uC2A4\\uD1A0\\uB9AC\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"maskOff \".concat(isExtended&&'maskOn')})]});};export default Nav;","map":{"version":3,"sources":["C:/Users/user/Desktop/2차프로젝트/DrTart-frontend/src/components/Nav/Nav.js"],"names":["React","useState","Link","useNavigate","API_ADDRESS","useEffect","Nav","isExtended","setIsExtended","isButtonValid","setIsButtonValid","cartProductNum","seCartProductNum","onNavToggled","token","localStorage","getItem","navigate","goToCart","alert","goToMyPage","onLoginButton","clear","closedNav","fetch","order_cart","headers","Authorization","then","res","json","result","cart_info","length"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { API_ADDRESS } from '../../apiConfig';\nimport { ReactComponent as Cart } from '../../assets/cart.svg';\nimport { ReactComponent as Login } from '../../assets/login.svg';\nimport { ReactComponent as Logout } from '../../assets/logout.svg';\nimport { ReactComponent as Logo } from '../../assets/logo.svg';\nimport { ReactComponent as HamburgerBar } from '../../assets/HamburgerBar.svg';\nimport { ReactComponent as Titlelogo } from '../../assets/Titlelogo.svg';\nimport { ReactComponent as MyPage } from '../../assets/mypage.svg';\nimport './Nav.scss';\nimport { ReactComponent as Xbutton } from '../../assets/Xbutton.svg';\nimport { useEffect } from 'react';\n\nconst Nav = () => {\n  const [isExtended, setIsExtended] = useState(false);\n  const [isButtonValid, setIsButtonValid] = useState(false);\n  const [cartProductNum, seCartProductNum] = useState(0);\n\n  const onNavToggled = () => {\n    setIsExtended(!isExtended);\n  };\n\n  let token = localStorage.getItem('TOKEN') || '';\n  const navigate = useNavigate();\n\n  const goToCart = () => {\n    if (token) {\n      navigate('/order/cart');\n    } else {\n      alert('로그인이 필요합니다.');\n      navigate('/login');\n    }\n  };\n\n  const goToMyPage = () => {\n    if (token) {\n      navigate('/order/list');\n    } else {\n      alert('로그인이 필요합니다.');\n      navigate('/login');\n    }\n  };\n\n  const onLoginButton = () => {\n    if (token) {\n      localStorage.clear();\n      setIsButtonValid(() => !isButtonValid);\n      alert('로그아웃 되었습니다');\n      navigate('/');\n    } else if (!token) {\n      navigate('/login');\n      setIsButtonValid(() => isButtonValid);\n    }\n  };\n\n  useEffect(() => {\n    token ? setIsButtonValid(true) : setIsButtonValid(false);\n  }, [token]);\n\n  const closedNav = () => {\n    setIsExtended(false);\n  };\n\n  useEffect(() => {\n    fetch(API_ADDRESS.order_cart, {\n      headers: {\n        Authorization: token,\n      },\n    })\n      .then(res => res.json())\n      .then(result => seCartProductNum(result.cart_info?.length || 0));\n  }, [cartProductNum, token]);\n\n  return (\n    <nav className=\"sideNav\">\n      <div className={`basicNav ${isExtended && 'toggledNav'}`}>\n        <Link to=\"/\">\n          <div className={isExtended && 'animationRight'}>\n            <button className=\"navButton home \">\n              <Logo />\n            </button>\n          </div>\n        </Link>\n        <button\n          className=\"navButton hamburgerBar\"\n          type=\"checkbox\"\n          onClick={onNavToggled}\n        >\n          {isExtended ? <Xbutton /> : <HamburgerBar />}\n        </button>\n        <div className=\"dummyElement\" />\n        <div className=\"navButtonContainer\">\n          <button className=\"navButton\" onClick={goToCart}>\n            {cartProductNum !== 0 && (\n              <div className=\"circleCart\">\n                <p className=\"cartNum\">{cartProductNum}</p>\n              </div>\n            )}\n\n            <p className=\"description\">\n              장바구니\n              <div className=\"div\" />\n            </p>\n            <Cart />\n          </button>\n\n          <button className=\"navButton\" onClick={goToMyPage}>\n            <p className=\"description\">\n              내 주문\n              <div className=\"div\" />\n            </p>\n            <MyPage />\n          </button>\n\n          <button\n            className={isButtonValid ? 'navButton signIn' : 'navButton signOut'}\n            onClick={onLoginButton}\n          >\n            {isButtonValid ? (\n              <p className=\"description\">\n                로그아웃\n                <div className=\"div\" />\n              </p>\n            ) : (\n              <p className=\"description\">\n                로그인\n                <div className=\"div\" />\n              </p>\n            )}\n            {isButtonValid ? <Logout /> : <Login />}\n          </button>\n        </div>\n      </div>\n      <nav className={`extensionNav ${isExtended ? '' : 'toggledNav'}`}>\n        <div className=\"extensionNavContainer\">\n          <Link to=\"/\">\n            <h1 className=\"tartLogo\">\n              <Titlelogo />\n            </h1>\n          </Link>\n          <ul className=\"extensionNavButtonWrapper\">\n            <Link to=\"/product-list\">\n              <li className=\"extensionNavButton\" onClick={closedNav}>\n                제품\n              </li>\n            </Link>\n            <li className=\"extensionNavButton\" onClick={closedNav}>\n              브랜드\n            </li>\n            <li className=\"extensionNavButton\" onClick={closedNav}>\n              스토리\n            </li>\n          </ul>\n        </div>\n      </nav>\n      <div className={`maskOff ${isExtended && 'maskOn'}`} />\n    </nav>\n  );\n};\n\nexport default Nav;\n"]},"metadata":{},"sourceType":"module"}