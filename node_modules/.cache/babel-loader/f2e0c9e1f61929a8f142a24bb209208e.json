{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\2\\uCC28\\uD504\\uB85C\\uC81D\\uD2B8\\\\DrTart-frontend\\\\src\\\\pages\\\\Signup\\\\Signup.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router';\nimport Button from '../../components/Button/Button';\nimport InputBox from './InputBox/InputBox';\nimport TERMS_DATA from './SignupData';\nimport { API_ADDRESS } from '../../apiConfig';\nimport './Signup.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Signup() {\n  _s();\n\n  const [memberInput, setMemberInput] = useState({\n    name: '',\n    email: '',\n    password: '',\n    passwordRe: '',\n    address: '',\n    isVegan: false\n  });\n  const {\n    name,\n    email,\n    password,\n    passwordRe,\n    address,\n    isVegan\n  } = memberInput;\n  const [checkedList, setCheckedList] = useState([]);\n  const [emailExistCheck, setEmailExistCheck] = useState(false);\n  const emailRegex = /[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*\\.[a-zA-Z]{2,3}$/g;\n  const passwordRegex = /(?=.*[A-Za-z])(?=.*\\d)(?=.*[~!@#$^&*()+|=])[A-Za-z\\d~!@#$%^&*()+|=]{8,}/g;\n  const isEmailRegexValid = !!email.match(emailRegex);\n  const isPasswordRegexValid = !!password.match(passwordRegex);\n  const nameValid = name.length > 0;\n  const passwordReValid = password === passwordRe;\n  const addressValid = address.length > 0;\n  const termsValid = checkedList.includes(1) && checkedList.includes(2);\n\n  const onCheckedAll = checked => {\n    const newCheckedList = checked ? TERMS_DATA.map(term => term.id) : [];\n    setCheckedList(newCheckedList);\n  };\n\n  const onCheckedElement = (checked, termId) => {\n    const newCheckedList = checked ? [...checkedList, termId] : checkedList.filter(el => el !== termId);\n    setCheckedList(newCheckedList);\n  };\n\n  function handleMemberInput(e) {\n    const {\n      name,\n      value\n    } = e.target;\n    name === 'isVegan' ? setMemberInput({ ...memberInput,\n      isVegan: e.target.checked\n    }) : setMemberInput({ ...memberInput,\n      [name]: value\n    });\n  }\n\n  const isSameLength = checkedList.length === TERMS_DATA.length;\n  const submitValid = termsValid && nameValid && emailExistCheck && isPasswordRegexValid && passwordReValid && addressValid;\n  const navigate = useNavigate();\n\n  function emailCheck() {\n    fetch(API_ADDRESS.id_check, {\n      method: 'POST',\n      body: JSON.stringify({\n        email: email\n      })\n    }).then(response => response.json()).then(result => {\n      if (result.message === 'EMAIL_EXISTS') {\n        alert('이미 존재하는 이메일입니다.');\n        setEmailExistCheck(false);\n        setMemberInput({ ...memberInput,\n          email: ''\n        });\n      } else {\n        alert('사용가능한 이메일입니다.');\n        setEmailExistCheck(true);\n      }\n    });\n  }\n\n  function onSignup() {\n    if (submitValid) {\n      fetch(API_ADDRESS.sign_up, {\n        method: 'POST',\n        body: JSON.stringify({\n          name: name,\n          email: email,\n          password: password,\n          address: address,\n          vegan_or_not: isVegan\n        })\n      }).then(response => response.json()).then(result => result.message === 'SUCCESS' ? navigate('/signupdone') : alert('가입실패'));\n    } else if (!termsValid) {\n      alert('필수 약관 동의를 확인해주세요.');\n    } else if (!emailExistCheck) {\n      alert('이메일 중복체크를 해주세요.');\n    } else {\n      alert('가입 형식을 확인해주세요.');\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"signupWrap\",\n    children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"registerStep\",\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"stepItem\",\n        children: \"01 \\uC815\\uBCF4\\uC785\\uB825\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"stepItem\",\n        children: \"02 \\uAC00\\uC785\\uC644\\uB8CC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"signupTitle\",\n      children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"joinTerms\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"termsTitle\",\n          children: \"\\uC774\\uC6A9\\uC57D\\uAD00 \\uB3D9\\uC758\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"termsBox\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"termsContent\",\n            children: [\"\\uD68C\\uC6D0\\uAC00\\uC785 \\uBC0F \\uC815\\uC0C1\\uC801\\uC778 \\uC11C\\uBE44\\uC2A4 \\uC774\\uC6A9\\uC744 \\uC704\\uD574\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this), \"\\uC544\\uB798 \\uC57D\\uAD00\\uC744 \\uC77D\\uC5B4\\uBCF4\\uC2DC\\uACE0, \\uB3D9\\uC758 \\uC5EC\\uBD80\\uB97C \\uACB0\\uC815\\uD574 \\uC8FC\\uC138\\uC694.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this), \"\\uD544\\uC218 \\uC57D\\uAD00\\uC5D0 \\uB3D9\\uC758\\uD558\\uC154\\uC57C \\uD68C\\uC6D0\\uAC00\\uC785\\uC774 \\uAC00\\uB2A5\\uD569\\uB2C8\\uB2E4.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: `blockCheckBox ${checkedList.length === 5 ? 'checkActive' : ''}`,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            className: \"allCheck\",\n            onChange: e => onCheckedAll(e.target.checked),\n            checked: checkedList.length === 0 ? false : isSameLength\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fas fa-check\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this), \" \\xA0\\uD544\\uC218 \\uD56D\\uBAA9 \\uBC0F \\uC120\\uD0DD \\uD56D\\uBAA9 \\uBAA8\\uB450 \\uB3D9\\uC758\\uD569\\uB2C8\\uB2E4.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"termsCheckWrap\",\n          children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"termsCheckList\",\n            children: TERMS_DATA.map(term => {\n              return /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  onChange: e => onCheckedElement(e.target.checked, term.id),\n                  checked: checkedList.includes(term.id) ? true : false\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 21\n                }, this), term.content]\n              }, term.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"checkTip\",\n            children: \"* \\uC120\\uD0DD \\uD56D\\uBAA9\\uC740 \\uB3D9\\uC758\\uD558\\uC9C0 \\uC54A\\uB354\\uB77C\\uB3C4 \\uD68C\\uC6D0\\uAC00\\uC785\\uC774 \\uAC00\\uB2A5\\uD569\\uB2C8\\uB2E4.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onChange: handleMemberInput,\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"formWrap\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"formTitle\",\n              children: \"\\uD68C\\uC6D0\\uC815\\uBCF4 \\uC785\\uB825\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputBox, {\n            type: \"text\",\n            name: \"name\",\n            valid: nameValid,\n            placeholder: \"\\uC131\\uD568\",\n            value: name,\n            validFalseContent: \"\\uC131\\uD568\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"emailWrap\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"email\",\n              children: /*#__PURE__*/_jsxDEV(InputBox, {\n                type: \"text\",\n                name: \"email\",\n                valid: isEmailRegexValid,\n                placeholder: \"\\uC774\\uBA54\\uC77C\",\n                value: email,\n                validFalseContent: \"\\uC774\\uBA54\\uC77C \\uD615\\uC2DD\\uC744 \\uD655\\uC778 \\uD574\\uC8FC\\uC138\\uC694.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"btnWrap\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: emailCheck,\n                className: \"emailCheckBtn\",\n                children: \"\\uC911\\uBCF5\\uD655\\uC778\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputBox, {\n            type: \"password\",\n            name: \"password\",\n            valid: isPasswordRegexValid,\n            placeholder: \"\\uD328\\uC2A4\\uC6CC\\uB4DC : \\uC601\\uBB38 \\uB300, \\uC18C\\uBB38\\uC790, \\uD2B9\\uC218\\uBB38\\uC790 1\\uAC1C \\uD3EC\\uD568 8\\uC790\\uB9AC \\uC774\\uC0C1\",\n            value: password,\n            validFalseContent: \"\\uACF5\\uBC31\\uC5C6\\uC774 10~20\\uC790\\uB85C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputBox, {\n            type: \"password\",\n            name: \"passwordRe\",\n            valid: passwordReValid,\n            placeholder: \"\\uD328\\uC2A4\\uC6CC\\uB4DC\\uB97C \\uB2E4\\uC2DC \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n            value: passwordRe,\n            validFalseContent: \"\\uC785\\uB825\\uD55C \\uD328\\uC2A4\\uC6CC\\uB4DC\\uC640 \\uC77C\\uCE58\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputBox, {\n            type: \"address\",\n            name: \"address\",\n            valid: addressValid,\n            placeholder: \"\\uC8FC\\uC18C\",\n            value: address,\n            validFalseContent: \"\\uBC30\\uC1A1\\uC8FC\\uC18C\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: `blockCheckBox ${isVegan && 'checkActive'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                name: \"isVegan\",\n                className: \"veganCheckBox\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-check\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 17\n              }, this), \" \\xA0\\uBE44\\uAC74\\uC774\\uC2DC\\uB77C\\uBA74 \\uCCB4\\uD06C\\uD574\\uC8FC\\uC138\\uC694!\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"signTip\",\n              children: \"* \\uB9CC 14\\uC138 \\uBBF8\\uB9CC\\uC740 \\uD68C\\uC6D0 \\uAC00\\uC785 \\uBC0F \\uC11C\\uBE44\\uC2A4 \\uC774\\uC6A9\\uC774 \\uBD88\\uAC00\\uD569\\uB2C8\\uB2E4.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              btnOnClick: onSignup,\n              children: \"\\uAC00\\uC785\\uD558\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Signup, \"DzPZ5sXLLHDI9PmZ0j8zq8r0cfQ=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Signup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"sources":["C:/Users/user/Desktop/2차프로젝트/DrTart-frontend/src/pages/Signup/Signup.js"],"names":["React","useState","useNavigate","Button","InputBox","TERMS_DATA","API_ADDRESS","Signup","memberInput","setMemberInput","name","email","password","passwordRe","address","isVegan","checkedList","setCheckedList","emailExistCheck","setEmailExistCheck","emailRegex","passwordRegex","isEmailRegexValid","match","isPasswordRegexValid","nameValid","length","passwordReValid","addressValid","termsValid","includes","onCheckedAll","checked","newCheckedList","map","term","id","onCheckedElement","termId","filter","el","handleMemberInput","e","value","target","isSameLength","submitValid","navigate","emailCheck","fetch","id_check","method","body","JSON","stringify","then","response","json","result","message","alert","onSignup","sign_up","vegan_or_not","content"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router';\nimport Button from '../../components/Button/Button';\nimport InputBox from './InputBox/InputBox';\nimport TERMS_DATA from './SignupData';\nimport { API_ADDRESS } from '../../apiConfig';\nimport './Signup.scss';\n\nexport default function Signup() {\n  const [memberInput, setMemberInput] = useState({\n    name: '',\n    email: '',\n    password: '',\n    passwordRe: '',\n    address: '',\n    isVegan: false,\n  });\n  const { name, email, password, passwordRe, address, isVegan } = memberInput;\n  const [checkedList, setCheckedList] = useState([]);\n  const [emailExistCheck, setEmailExistCheck] = useState(false);\n\n  const emailRegex =\n    /[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*\\.[a-zA-Z]{2,3}$/g;\n  const passwordRegex =\n    /(?=.*[A-Za-z])(?=.*\\d)(?=.*[~!@#$^&*()+|=])[A-Za-z\\d~!@#$%^&*()+|=]{8,}/g;\n  const isEmailRegexValid = !!email.match(emailRegex);\n  const isPasswordRegexValid = !!password.match(passwordRegex);\n  const nameValid = name.length > 0;\n  const passwordReValid = password === passwordRe;\n  const addressValid = address.length > 0;\n  const termsValid = checkedList.includes(1) && checkedList.includes(2);\n\n  const onCheckedAll = checked => {\n    const newCheckedList = checked ? TERMS_DATA.map(term => term.id) : [];\n    setCheckedList(newCheckedList);\n  };\n\n  const onCheckedElement = (checked, termId) => {\n    const newCheckedList = checked\n      ? [...checkedList, termId]\n      : checkedList.filter(el => el !== termId);\n    setCheckedList(newCheckedList);\n  };\n\n  function handleMemberInput(e) {\n    const { name, value } = e.target;\n    name === 'isVegan'\n      ? setMemberInput({ ...memberInput, isVegan: e.target.checked })\n      : setMemberInput({ ...memberInput, [name]: value });\n  }\n\n  const isSameLength = checkedList.length === TERMS_DATA.length;\n\n  const submitValid =\n    termsValid &&\n    nameValid &&\n    emailExistCheck &&\n    isPasswordRegexValid &&\n    passwordReValid &&\n    addressValid;\n\n  const navigate = useNavigate();\n\n  function emailCheck() {\n    fetch(API_ADDRESS.id_check, {\n      method: 'POST',\n      body: JSON.stringify({\n        email: email,\n      }),\n    })\n      .then(response => response.json())\n      .then(result => {\n        if (result.message === 'EMAIL_EXISTS') {\n          alert('이미 존재하는 이메일입니다.');\n          setEmailExistCheck(false);\n          setMemberInput({ ...memberInput, email: '' });\n        } else {\n          alert('사용가능한 이메일입니다.');\n          setEmailExistCheck(true);\n        }\n      });\n  }\n\n  function onSignup() {\n    if (submitValid) {\n      fetch(API_ADDRESS.sign_up, {\n        method: 'POST',\n        body: JSON.stringify({\n          name: name,\n          email: email,\n          password: password,\n          address: address,\n          vegan_or_not: isVegan,\n        }),\n      })\n        .then(response => response.json())\n        .then(result =>\n          result.message === 'SUCCESS'\n            ? navigate('/signupdone')\n            : alert('가입실패')\n        );\n    } else if (!termsValid) {\n      alert('필수 약관 동의를 확인해주세요.');\n    } else if (!emailExistCheck) {\n      alert('이메일 중복체크를 해주세요.');\n    } else {\n      alert('가입 형식을 확인해주세요.');\n    }\n  }\n\n  return (\n    <div className=\"signupWrap\">\n      <ul className=\"registerStep\">\n        <li className=\"stepItem\">01 정보입력</li>\n        <li className=\"stepItem\">02 가입완료</li>\n      </ul>\n      <h2 className=\"signupTitle\">회원가입</h2>\n      <div className=\"section\">\n        <div className=\"joinTerms\">\n          <h3 className=\"termsTitle\">이용약관 동의</h3>\n          <div className=\"termsBox\">\n            <p className=\"termsContent\">\n              회원가입 및 정상적인 서비스 이용을 위해\n              <br />\n              아래 약관을 읽어보시고, 동의 여부를 결정해 주세요.\n              <br />\n              필수 약관에 동의하셔야 회원가입이 가능합니다.\n            </p>\n          </div>\n          <label\n            className={`blockCheckBox ${\n              checkedList.length === 5 ? 'checkActive' : ''\n            }`}\n          >\n            <input\n              type=\"checkbox\"\n              className=\"allCheck\"\n              onChange={e => onCheckedAll(e.target.checked)}\n              checked={checkedList.length === 0 ? false : isSameLength}\n            />\n            <i class=\"fas fa-check\" /> &nbsp;필수 항목 및 선택 항목 모두\n            동의합니다.\n          </label>\n          <div className=\"termsCheckWrap\">\n            <ul className=\"termsCheckList\">\n              {TERMS_DATA.map(term => {\n                return (\n                  <li key={term.id}>\n                    <input\n                      type=\"checkbox\"\n                      onChange={e =>\n                        onCheckedElement(e.target.checked, term.id)\n                      }\n                      checked={checkedList.includes(term.id) ? true : false}\n                    />\n                    {term.content}\n                  </li>\n                );\n              })}\n            </ul>\n            <span className=\"checkTip\">\n              * 선택 항목은 동의하지 않더라도 회원가입이 가능합니다.\n            </span>\n          </div>\n        </div>\n        <form onChange={handleMemberInput}>\n          <ul className=\"formWrap\">\n            <li>\n              <h3 className=\"formTitle\">회원정보 입력</h3>\n            </li>\n            <InputBox\n              type=\"text\"\n              name=\"name\"\n              valid={nameValid}\n              placeholder=\"성함\"\n              value={name}\n              validFalseContent=\"성함을 입력해주세요\"\n            />\n            <div className=\"emailWrap\">\n              <div className=\"email\">\n                <InputBox\n                  type=\"text\"\n                  name=\"email\"\n                  valid={isEmailRegexValid}\n                  placeholder=\"이메일\"\n                  value={email}\n                  validFalseContent=\"이메일 형식을 확인 해주세요.\"\n                />\n              </div>\n              <div className=\"btnWrap\">\n                <button\n                  type=\"button\"\n                  onClick={emailCheck}\n                  className=\"emailCheckBtn\"\n                >\n                  중복확인\n                </button>\n              </div>\n            </div>\n            <InputBox\n              type=\"password\"\n              name=\"password\"\n              valid={isPasswordRegexValid}\n              placeholder=\"패스워드 : 영문 대, 소문자, 특수문자 1개 포함 8자리 이상\"\n              value={password}\n              validFalseContent=\"공백없이 10~20자로 입력해주세요.\"\n            />\n            <InputBox\n              type=\"password\"\n              name=\"passwordRe\"\n              valid={passwordReValid}\n              placeholder=\"패스워드를 다시 입력해주세요\"\n              value={passwordRe}\n              validFalseContent=\"입력한 패스워드와 일치하지 않습니다.\"\n            />\n            <InputBox\n              type=\"address\"\n              name=\"address\"\n              valid={addressValid}\n              placeholder=\"주소\"\n              value={address}\n              validFalseContent=\"배송주소를 입력해주세요.\"\n            />\n            <li>\n              <label className={`blockCheckBox ${isVegan && 'checkActive'}`}>\n                <input\n                  type=\"checkbox\"\n                  name=\"isVegan\"\n                  className=\"veganCheckBox\"\n                />\n                <i class=\"fas fa-check\" /> &nbsp;비건이시라면 체크해주세요!\n              </label>\n            </li>\n            <li>\n              <span className=\"signTip\">\n                * 만 14세 미만은 회원 가입 및 서비스 이용이 불가합니다.\n              </span>\n            </li>\n            <li>\n              <Button btnOnClick={onSignup}>가입하기</Button>\n            </li>\n          </ul>\n        </form>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}