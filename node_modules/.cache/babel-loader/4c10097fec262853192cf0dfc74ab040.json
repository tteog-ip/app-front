{"ast":null,"code":"import _defineProperty from\"C:/Users/user/Desktop/2\\uCC28\\uD504\\uB85C\\uC81D\\uD2B8/DrTart-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/user/Desktop/2\\uCC28\\uD504\\uB85C\\uC81D\\uD2B8/DrTart-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:/Users/user/Desktop/2\\uCC28\\uD504\\uB85C\\uC81D\\uD2B8/DrTart-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/user/Desktop/2\\uCC28\\uD504\\uB85C\\uC81D\\uD2B8/DrTart-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useNavigate}from'react-router';import Button from'../../components/Button/Button';import InputBox from'./InputBox/InputBox';import TERMS_DATA from'./SignupData';import{API_ADDRESS}from'../../apiConfig';import'./Signup.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Signup(){var _useState=useState({name:'',email:'',password:'',passwordRe:'',address:'',isVegan:false}),_useState2=_slicedToArray(_useState,2),memberInput=_useState2[0],setMemberInput=_useState2[1];var name=memberInput.name,email=memberInput.email,password=memberInput.password,passwordRe=memberInput.passwordRe,address=memberInput.address,isVegan=memberInput.isVegan;var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),checkedList=_useState4[0],setCheckedList=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),emailExistCheck=_useState6[0],setEmailExistCheck=_useState6[1];var emailRegex=/[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*\\.[a-zA-Z]{2,3}$/g;var passwordRegex=/(?=.*[A-Za-z])(?=.*\\d)(?=.*[~!@#$^&*()+|=])[A-Za-z\\d~!@#$%^&*()+|=]{8,}/g;var isEmailRegexValid=!!email.match(emailRegex);var isPasswordRegexValid=!!password.match(passwordRegex);var nameValid=name.length>0;var passwordReValid=password===passwordRe;var addressValid=address.length>0;var termsValid=checkedList.includes(1)&&checkedList.includes(2);var onCheckedAll=function onCheckedAll(checked){var newCheckedList=checked?TERMS_DATA.map(function(term){return term.id;}):[];setCheckedList(newCheckedList);};var onCheckedElement=function onCheckedElement(checked,termId){var newCheckedList=checked?[].concat(_toConsumableArray(checkedList),[termId]):checkedList.filter(function(el){return el!==termId;});setCheckedList(newCheckedList);};function handleMemberInput(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;name==='isVegan'?setMemberInput(_objectSpread(_objectSpread({},memberInput),{},{isVegan:e.target.checked})):setMemberInput(_objectSpread(_objectSpread({},memberInput),{},_defineProperty({},name,value)));}var isSameLength=checkedList.length===TERMS_DATA.length;var submitValid=termsValid&&nameValid&&emailExistCheck&&isPasswordRegexValid&&passwordReValid&&addressValid;var navigate=useNavigate();function emailCheck(){fetch(API_ADDRESS.id_check,{method:'POST',body:JSON.stringify({email:email})}).then(function(response){return response.json();}).then(function(result){if(result.message==='EMAIL_EXISTS'){alert('이미 존재하는 이메일입니다.');setEmailExistCheck(false);setMemberInput(_objectSpread(_objectSpread({},memberInput),{},{email:''}));}else{alert('사용가능한 이메일입니다.');setEmailExistCheck(true);}});}function onSignup(){if(submitValid){fetch(API_ADDRESS.sign_up,{method:'POST',body:JSON.stringify({name:name,email:email,password:password,address:address,vegan_or_not:isVegan})}).then(function(response){return response.json();}).then(function(result){return result.message==='SUCCESS'?navigate('/signupdone'):alert('가입실패');});}else if(!termsValid){alert('필수 약관 동의를 확인해주세요.');}else if(!emailExistCheck){alert('이메일 중복체크를 해주세요.');}else{alert('가입 형식을 확인해주세요.');}}return/*#__PURE__*/_jsxs(\"div\",{className:\"signupWrap\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"registerStep\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"stepItem\",children:\"01 \\uC815\\uBCF4\\uC785\\uB825\"}),/*#__PURE__*/_jsx(\"li\",{className:\"stepItem\",children:\"02 \\uAC00\\uC785\\uC644\\uB8CC\"})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"signupTitle\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"joinTerms\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"termsTitle\",children:\"\\uC774\\uC6A9\\uC57D\\uAD00 \\uB3D9\\uC758\"}),/*#__PURE__*/_jsx(\"div\",{className:\"termsBox\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"termsContent\",children:[\"\\uD68C\\uC6D0\\uAC00\\uC785 \\uBC0F \\uC815\\uC0C1\\uC801\\uC778 \\uC11C\\uBE44\\uC2A4 \\uC774\\uC6A9\\uC744 \\uC704\\uD574\",/*#__PURE__*/_jsx(\"br\",{}),\"\\uC544\\uB798 \\uC57D\\uAD00\\uC744 \\uC77D\\uC5B4\\uBCF4\\uC2DC\\uACE0, \\uB3D9\\uC758 \\uC5EC\\uBD80\\uB97C \\uACB0\\uC815\\uD574 \\uC8FC\\uC138\\uC694.\",/*#__PURE__*/_jsx(\"br\",{}),\"\\uD544\\uC218 \\uC57D\\uAD00\\uC5D0 \\uB3D9\\uC758\\uD558\\uC154\\uC57C \\uD68C\\uC6D0\\uAC00\\uC785\\uC774 \\uAC00\\uB2A5\\uD569\\uB2C8\\uB2E4.\"]})}),/*#__PURE__*/_jsxs(\"label\",{className:\"blockCheckBox \".concat(checkedList.length===5?'checkActive':''),children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"allCheck\",onChange:function onChange(e){return onCheckedAll(e.target.checked);},checked:checkedList.length===0?false:isSameLength}),/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-check\"}),\" \\xA0\\uD544\\uC218 \\uD56D\\uBAA9 \\uBC0F \\uC120\\uD0DD \\uD56D\\uBAA9 \\uBAA8\\uB450 \\uB3D9\\uC758\\uD569\\uB2C8\\uB2E4.\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"termsCheckWrap\",children:[/*#__PURE__*/_jsx(\"ul\",{className:\"termsCheckList\",children:TERMS_DATA.map(function(term){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:function onChange(e){return onCheckedElement(e.target.checked,term.id);},checked:checkedList.includes(term.id)?true:false}),term.content]},term.id);})}),/*#__PURE__*/_jsx(\"span\",{className:\"checkTip\",children:\"* \\uC120\\uD0DD \\uD56D\\uBAA9\\uC740 \\uB3D9\\uC758\\uD558\\uC9C0 \\uC54A\\uB354\\uB77C\\uB3C4 \\uD68C\\uC6D0\\uAC00\\uC785\\uC774 \\uAC00\\uB2A5\\uD569\\uB2C8\\uB2E4.\"})]})]}),/*#__PURE__*/_jsx(\"form\",{onChange:handleMemberInput,children:/*#__PURE__*/_jsxs(\"ul\",{className:\"formWrap\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"h3\",{className:\"formTitle\",children:\"\\uD68C\\uC6D0\\uC815\\uBCF4 \\uC785\\uB825\"})}),/*#__PURE__*/_jsx(InputBox,{type:\"text\",name:\"name\",valid:nameValid,placeholder:\"\\uC131\\uD568\",value:name,validFalseContent:\"\\uC131\\uD568\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"emailWrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"email\",children:/*#__PURE__*/_jsx(InputBox,{type:\"text\",name:\"email\",valid:isEmailRegexValid,placeholder:\"\\uC774\\uBA54\\uC77C\",value:email,validFalseContent:\"\\uC774\\uBA54\\uC77C \\uD615\\uC2DD\\uC744 \\uD655\\uC778 \\uD574\\uC8FC\\uC138\\uC694.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"btnWrap\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:emailCheck,className:\"emailCheckBtn\",children:\"\\uC911\\uBCF5\\uD655\\uC778\"})})]}),/*#__PURE__*/_jsx(InputBox,{type:\"password\",name:\"password\",valid:isPasswordRegexValid,placeholder:\"\\uD328\\uC2A4\\uC6CC\\uB4DC : \\uC601\\uBB38 \\uB300, \\uC18C\\uBB38\\uC790, \\uD2B9\\uC218\\uBB38\\uC790 1\\uAC1C \\uD3EC\\uD568 8\\uC790\\uB9AC \\uC774\\uC0C1\",value:password,validFalseContent:\"\\uACF5\\uBC31\\uC5C6\\uC774 10~20\\uC790\\uB85C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"}),/*#__PURE__*/_jsx(InputBox,{type:\"password\",name:\"passwordRe\",valid:passwordReValid,placeholder:\"\\uD328\\uC2A4\\uC6CC\\uB4DC\\uB97C \\uB2E4\\uC2DC \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",value:passwordRe,validFalseContent:\"\\uC785\\uB825\\uD55C \\uD328\\uC2A4\\uC6CC\\uB4DC\\uC640 \\uC77C\\uCE58\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsx(InputBox,{type:\"address\",name:\"address\",valid:addressValid,placeholder:\"\\uC8FC\\uC18C\",value:address,validFalseContent:\"\\uBC30\\uC1A1\\uC8FC\\uC18C\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"label\",{className:\"blockCheckBox \".concat(isVegan&&'checkActive'),children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"isVegan\",className:\"veganCheckBox\"}),/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-check\"}),\" \\xA0\\uBE44\\uAC74\\uC774\\uC2DC\\uB77C\\uBA74 \\uCCB4\\uD06C\\uD574\\uC8FC\\uC138\\uC694!\"]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"signTip\",children:\"* \\uB9CC 14\\uC138 \\uBBF8\\uB9CC\\uC740 \\uD68C\\uC6D0 \\uAC00\\uC785 \\uBC0F \\uC11C\\uBE44\\uC2A4 \\uC774\\uC6A9\\uC774 \\uBD88\\uAC00\\uD569\\uB2C8\\uB2E4.\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Button,{btnOnClick:onSignup,children:\"\\uAC00\\uC785\\uD558\\uAE30\"})})]})})]})]});}","map":{"version":3,"sources":["C:/Users/user/Desktop/2차프로젝트/DrTart-frontend/src/pages/Signup/Signup.js"],"names":["React","useState","useNavigate","Button","InputBox","TERMS_DATA","API_ADDRESS","Signup","name","email","password","passwordRe","address","isVegan","memberInput","setMemberInput","checkedList","setCheckedList","emailExistCheck","setEmailExistCheck","emailRegex","passwordRegex","isEmailRegexValid","match","isPasswordRegexValid","nameValid","length","passwordReValid","addressValid","termsValid","includes","onCheckedAll","checked","newCheckedList","map","term","id","onCheckedElement","termId","filter","el","handleMemberInput","e","target","value","isSameLength","submitValid","navigate","emailCheck","fetch","id_check","method","body","JSON","stringify","then","response","json","result","message","alert","onSignup","sign_up","vegan_or_not","content"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router';\nimport Button from '../../components/Button/Button';\nimport InputBox from './InputBox/InputBox';\nimport TERMS_DATA from './SignupData';\nimport { API_ADDRESS } from '../../apiConfig';\nimport './Signup.scss';\n\nexport default function Signup() {\n  const [memberInput, setMemberInput] = useState({\n    name: '',\n    email: '',\n    password: '',\n    passwordRe: '',\n    address: '',\n    isVegan: false,\n  });\n  const { name, email, password, passwordRe, address, isVegan } = memberInput;\n  const [checkedList, setCheckedList] = useState([]);\n  const [emailExistCheck, setEmailExistCheck] = useState(false);\n\n  const emailRegex =\n    /[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*\\.[a-zA-Z]{2,3}$/g;\n  const passwordRegex =\n    /(?=.*[A-Za-z])(?=.*\\d)(?=.*[~!@#$^&*()+|=])[A-Za-z\\d~!@#$%^&*()+|=]{8,}/g;\n  const isEmailRegexValid = !!email.match(emailRegex);\n  const isPasswordRegexValid = !!password.match(passwordRegex);\n  const nameValid = name.length > 0;\n  const passwordReValid = password === passwordRe;\n  const addressValid = address.length > 0;\n  const termsValid = checkedList.includes(1) && checkedList.includes(2);\n\n  const onCheckedAll = checked => {\n    const newCheckedList = checked ? TERMS_DATA.map(term => term.id) : [];\n    setCheckedList(newCheckedList);\n  };\n\n  const onCheckedElement = (checked, termId) => {\n    const newCheckedList = checked\n      ? [...checkedList, termId]\n      : checkedList.filter(el => el !== termId);\n    setCheckedList(newCheckedList);\n  };\n\n  function handleMemberInput(e) {\n    const { name, value } = e.target;\n    name === 'isVegan'\n      ? setMemberInput({ ...memberInput, isVegan: e.target.checked })\n      : setMemberInput({ ...memberInput, [name]: value });\n  }\n\n  const isSameLength = checkedList.length === TERMS_DATA.length;\n\n  const submitValid =\n    termsValid &&\n    nameValid &&\n    emailExistCheck &&\n    isPasswordRegexValid &&\n    passwordReValid &&\n    addressValid;\n\n  const navigate = useNavigate();\n\n  function emailCheck() {\n    fetch(API_ADDRESS.id_check, {\n      method: 'POST',\n      body: JSON.stringify({\n        email: email,\n      }),\n    })\n      .then(response => response.json())\n      .then(result => {\n        if (result.message === 'EMAIL_EXISTS') {\n          alert('이미 존재하는 이메일입니다.');\n          setEmailExistCheck(false);\n          setMemberInput({ ...memberInput, email: '' });\n        } else {\n          alert('사용가능한 이메일입니다.');\n          setEmailExistCheck(true);\n        }\n      });\n  }\n\n  function onSignup() {\n    if (submitValid) {\n      fetch(API_ADDRESS.sign_up, {\n        method: 'POST',\n        body: JSON.stringify({\n          name: name,\n          email: email,\n          password: password,\n          address: address,\n          vegan_or_not: isVegan,\n        }),\n      })\n        .then(response => response.json())\n        .then(result =>\n          result.message === 'SUCCESS'\n            ? navigate('/signupdone')\n            : alert('가입실패')\n        );\n    } else if (!termsValid) {\n      alert('필수 약관 동의를 확인해주세요.');\n    } else if (!emailExistCheck) {\n      alert('이메일 중복체크를 해주세요.');\n    } else {\n      alert('가입 형식을 확인해주세요.');\n    }\n  }\n\n  return (\n    <div className=\"signupWrap\">\n      <ul className=\"registerStep\">\n        <li className=\"stepItem\">01 정보입력</li>\n        <li className=\"stepItem\">02 가입완료</li>\n      </ul>\n      <h2 className=\"signupTitle\">회원가입</h2>\n      <div className=\"section\">\n        <div className=\"joinTerms\">\n          <h3 className=\"termsTitle\">이용약관 동의</h3>\n          <div className=\"termsBox\">\n            <p className=\"termsContent\">\n              회원가입 및 정상적인 서비스 이용을 위해\n              <br />\n              아래 약관을 읽어보시고, 동의 여부를 결정해 주세요.\n              <br />\n              필수 약관에 동의하셔야 회원가입이 가능합니다.\n            </p>\n          </div>\n          <label\n            className={`blockCheckBox ${\n              checkedList.length === 5 ? 'checkActive' : ''\n            }`}\n          >\n            <input\n              type=\"checkbox\"\n              className=\"allCheck\"\n              onChange={e => onCheckedAll(e.target.checked)}\n              checked={checkedList.length === 0 ? false : isSameLength}\n            />\n            <i class=\"fas fa-check\" /> &nbsp;필수 항목 및 선택 항목 모두\n            동의합니다.\n          </label>\n          <div className=\"termsCheckWrap\">\n            <ul className=\"termsCheckList\">\n              {TERMS_DATA.map(term => {\n                return (\n                  <li key={term.id}>\n                    <input\n                      type=\"checkbox\"\n                      onChange={e =>\n                        onCheckedElement(e.target.checked, term.id)\n                      }\n                      checked={checkedList.includes(term.id) ? true : false}\n                    />\n                    {term.content}\n                  </li>\n                );\n              })}\n            </ul>\n            <span className=\"checkTip\">\n              * 선택 항목은 동의하지 않더라도 회원가입이 가능합니다.\n            </span>\n          </div>\n        </div>\n        <form onChange={handleMemberInput}>\n          <ul className=\"formWrap\">\n            <li>\n              <h3 className=\"formTitle\">회원정보 입력</h3>\n            </li>\n            <InputBox\n              type=\"text\"\n              name=\"name\"\n              valid={nameValid}\n              placeholder=\"성함\"\n              value={name}\n              validFalseContent=\"성함을 입력해주세요\"\n            />\n            <div className=\"emailWrap\">\n              <div className=\"email\">\n                <InputBox\n                  type=\"text\"\n                  name=\"email\"\n                  valid={isEmailRegexValid}\n                  placeholder=\"이메일\"\n                  value={email}\n                  validFalseContent=\"이메일 형식을 확인 해주세요.\"\n                />\n              </div>\n              <div className=\"btnWrap\">\n                <button\n                  type=\"button\"\n                  onClick={emailCheck}\n                  className=\"emailCheckBtn\"\n                >\n                  중복확인\n                </button>\n              </div>\n            </div>\n            <InputBox\n              type=\"password\"\n              name=\"password\"\n              valid={isPasswordRegexValid}\n              placeholder=\"패스워드 : 영문 대, 소문자, 특수문자 1개 포함 8자리 이상\"\n              value={password}\n              validFalseContent=\"공백없이 10~20자로 입력해주세요.\"\n            />\n            <InputBox\n              type=\"password\"\n              name=\"passwordRe\"\n              valid={passwordReValid}\n              placeholder=\"패스워드를 다시 입력해주세요\"\n              value={passwordRe}\n              validFalseContent=\"입력한 패스워드와 일치하지 않습니다.\"\n            />\n            <InputBox\n              type=\"address\"\n              name=\"address\"\n              valid={addressValid}\n              placeholder=\"주소\"\n              value={address}\n              validFalseContent=\"배송주소를 입력해주세요.\"\n            />\n            <li>\n              <label className={`blockCheckBox ${isVegan && 'checkActive'}`}>\n                <input\n                  type=\"checkbox\"\n                  name=\"isVegan\"\n                  className=\"veganCheckBox\"\n                />\n                <i class=\"fas fa-check\" /> &nbsp;비건이시라면 체크해주세요!\n              </label>\n            </li>\n            <li>\n              <span className=\"signTip\">\n                * 만 14세 미만은 회원 가입 및 서비스 이용이 불가합니다.\n              </span>\n            </li>\n            <li>\n              <Button btnOnClick={onSignup}>가입하기</Button>\n            </li>\n          </ul>\n        </form>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}